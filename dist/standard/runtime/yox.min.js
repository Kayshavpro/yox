!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Yox=e()}(this,(function(){"use strict";var t="model",e="event",n="binding",r="hook",o="beforeCreate",i="afterCreate",a="beforeMount",f="beforeUpdate",u="beforeDestroy",c="afterDestroy",s=!0,p=!1,v=null,l=void 0,d="undefined",h="component",y="value",m="length",g="function",$=".",x=typeof window!==d?window:l,b=typeof document!==d?document:l,k=typeof global!==d?global:x,w="input",C="change",_="model",E=function(){},A=Object.freeze({}),O=Object.freeze([]),T="";function S(t){return typeof t===g}function P(t){return Array.isArray(t)}function j(t){return t!==v&&"object"==typeof t}function z(t){return"string"==typeof t}function N(t){return"number"==typeof t&&!isNaN(t)}function D(t){return"boolean"==typeof t}function L(t){return N(t)||z(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var R=Object.freeze({__proto__:null,func:S,array:P,object:j,string:z,number:N,boolean:D,numeric:L});function U(t,e,n){if(S(t))return P(n)?t.apply(e,n):e!==l?t.call(e,n):n!==l?t(n):t()}var W=function(t,e){this.type=t,this.phase=W.PHASE_CURRENT,e&&(this.originalEvent=e)};function M(t,e,n){var r=t.length;if(r)if(n)for(var o=r-1;o>=0&&e(t[o],o)!==p;o--);else for(var i=0;i<r&&e(t[i],i)!==p;i++);}function H(t,e){t[t.length]=e}function F(t,e){t.unshift(e)}function I(t,e,n){P(e)?M(e,(function(e){n(t,e)})):n(t,e)}function Y(t,e){I(t,e,H)}function q(t,e){I(t,e,F)}function B(t,e,n){var r=-1;return M(t,(function(t,o){if(n===p?t==e:t===e)return r=o,p})),r}function G(t){var e=t.length;if(e>0)return t[e-1]}function V(t){if(t.length>0)return t.pop()}function X(t,e,n){var r=0;return M(t,(function(o,i){(n===p?o==e:o===e)&&(t.splice(i,1),r++)}),s),r}function Z(t,e,n){return B(t,e,n)>=0}function J(t){return P(t)?t:U(O.slice,t)}function K(t,e){return t.join(e)}function Q(t){return!P(t)||!t.length}W.is=function(t){return t instanceof W},W.prototype.preventDefault=function(){var t=this;if(!t.isPrevented){var e=t.originalEvent;e&&e.preventDefault(),t.isPrevented=s}return t},W.prototype.stopPropagation=function(){var t=this;if(!t.isStoped){var e=t.originalEvent;e&&e.stopPropagation(),t.isStoped=s}return t},W.prototype.prevent=function(){return this.preventDefault()},W.prototype.stop=function(){return this.stopPropagation()},W.PHASE_CURRENT=0,W.PHASE_UPWARD=1,W.PHASE_DOWNWARD=-1;var tt=Object.freeze({__proto__:null,each:M,push:Y,unshift:q,indexOf:B,last:G,pop:V,remove:X,has:Z,toArray:J,toObject:function(t,e,n){var r={};return M(t,(function(t){r[e?t[e]:t]=n||t})),r},join:K,falsy:Q}),et=/-([a-z])/gi,nt=/\B([A-Z])/g,rt=/^[a-z]/,ot={},it={},at={};function ft(t,e,n){return N(n)?e===n?T:t.slice(e,n):t.slice(e)}function ut(t,e,n){return t.indexOf(e,n!==l?n:0)}function ct(t,e,n){return t.lastIndexOf(e,n!==l?n:t.length)}function st(t,e){return 0===ut(t,e)}function pt(t,e){return t.charCodeAt(e||0)}function vt(t){return t.toUpperCase()}function lt(t){return t.toLowerCase()}function dt(t,e){return ut(t,e)>=0}function ht(t){return!z(t)||!t.length}var yt=Object.freeze({__proto__:null,camelize:function(t){return ot[t]||(ot[t]=t.replace(et,(function(t,e){return vt(e)}))),ot[t]},hyphenate:function(t){return it[t]||(it[t]=t.replace(nt,(function(t,e){return"-"+lt(e)}))),it[t]},capitalize:function(t){return at[t]||(at[t]=t.replace(rt,vt)),at[t]},trim:function(t){return ht(t)?T:t.trim()},slice:ft,indexOf:ut,lastIndexOf:ct,startsWith:st,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&ct(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:pt,upper:vt,lower:lt,has:dt,falsy:ht}),mt=/\./g,gt=/\*/g,$t=/\*\*/g,xt={},bt={};function kt(t,e){var n;P(xt[t])?n=xt[t]:(n=ut(t,$)<0?[t]:t.split($),xt[t]=n);for(var r=0,o=n.length-1;r<=o&&e(n[r],r,o)!==p;r++);}function wt(t,e){return t&&e?t+$+e:t||e}function Ct(t){return dt(t,"*")}function _t(t,e){var n=bt[e];if(!n){var r=e.replace(mt,"\\.").replace(gt,"(\\w+)").replace($t,"([.\\w]+?)");n=bt[e]=new RegExp("^"+r+"$")}var o=t.match(n);if(o)return o[1]}var Et={value:l};function At(t){return Object.keys(t)}function Ot(t,e){for(var n in t)if(e(t[n],n)===p)break}function Tt(t){Ot(t,(function(e,n){delete t[n]}))}function St(t,e){return Ot(e,(function(e,n){t[n]=e})),t}function Pt(t,e){return t&&e?St(St({},t),e):t||e}function jt(t,e){var n=t;return P(t)?e?(n=[],M(t,(function(t,r){n[r]=jt(t,e)}))):n=t.slice():j(t)&&(n={},Ot(t,(function(t,r){n[r]=e?jt(t,e):t}))),n}function zt(t,e){return kt(e,(function(e,n,r){if(t==v)return t=l,p;var o=t[e],i=o!==l;o&&S(o.get)&&(o=o.get()),n===r?i?(Et.value=o,t=Et):t=l:t=o})),t}function Nt(t,e,n,r){kt(e,(function(e,o,i){if(o===i)t[e]=n;else if(t[e])t=t[e];else{if(!r)return p;t=t[e]={}}}))}function Dt(t,e){return t[e]!==l}function Lt(t){return!j(t)||P(t)||!At(t).length}var Rt=Object.freeze({__proto__:null,keys:At,each:Ot,clear:Tt,extend:St,merge:Pt,copy:jt,get:zt,set:Nt,has:Dt,falsy:Lt});function Ut(t,e){return t!=v&&t.toString?t.toString():e!==l?e:T}var Wt=typeof console!==d?console:v,Mt=/yox/.test(Ut(E))?2:3,Ht=x&&/edge|msie|trident/i.test(x.navigator.userAgent)?T:"%c",Ft=Wt?Ht?function(t,e,n){Wt.log(Ht+t,n,e)}:function(t,e){Wt.log(t,e)}:E;function It(){if(k){var t=k.YOX_LOG_LEVEL;if(t>=1&&t<=5)return t}return Mt}function Yt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var qt=Object.freeze({__proto__:null,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5,debug:function(t,e){It()<=1&&Ft(e||"Yox debug",t,Yt("#999"))},info:function(t,e){It()<=2&&Ft(e||"Yox info",t,Yt("#2db7f5"))},warn:function(t,e){It()<=3&&Ft(e||"Yox warn",t,Yt("#f90"))},error:function(t,e){It()<=4&&Ft(e||"Yox error",t,Yt("#ed4014"))},fatal:function(t,e){if(It()<=5)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),Bt=function(t){this.ns=t||p,this.listeners={}};function Gt(t,e){return t?t===e.listener:s}function Vt(t,e){var n=e.ns;return n&&t?n===t:s}function Xt(t){return S(t)&&dt(Ut(t),"[native code]")}Bt.prototype.fire=function(t,e,n){var r=this,o=z(t)?r.toEvent(t):t,i=r.listeners[o.type],a=s;if(i){i=i.slice();for(var f=e&&W.is(e[0])?e[0]:l,u=0,c=i.length;u<c;u++){var v=i[u];if(Vt(o.ns,v)&&Z(i,v)&&(!n||n(o,e,v))){f&&(f.listener=v.listener);var d=U(v.listener,v.ctx,e);if(f&&(f.listener=l),v.num=v.num?v.num+1:1,v.num===v.max&&r.off(o.type,{ns:o.ns,listener:v.listener}),f&&(d===p?f.prevent().stop():f.isStoped&&(d=p)),d===p){a=p;break}}}}return a},Bt.prototype.on=function(t,e){var n=this.listeners,r=S(e)?{listener:e}:e;if(j(r)&&S(r.listener)){if(!z(r.ns)){var o=this.toEvent(t);r.ns=o.ns,t=o.type}Y(n[t]||(n[t]=[]),r)}},Bt.prototype.off=function(t,e){var n=this,r=n.listeners;if(t){var o=n.toFilter(t,e),i=function(t,e){M(t,(function(e,n){Gt(o.listener,e)&&Vt(o.ns,e)&&t.splice(n,1)}),s),t.length||delete r[e]};o.type?r[o.type]&&i(r[o.type],o.type):o.ns&&Ot(r,i)}else n.listeners={}},Bt.prototype.has=function(t,e){var n=this.listeners,r=this.toFilter(t,e),o=s,i=function(t){return M(t,(function(t){if(Gt(r.listener,t)&&Vt(r.ns,t))return o=p})),o};return r.type?n[r.type]&&i(n[r.type]):r.ns&&Ot(n,i),!o},Bt.prototype.toEvent=function(t){var e={type:t,ns:T};if(this.ns){var n=ut(t,$);n>=0&&(e.type=ft(t,0,n),e.ns=ft(t,n+1))}return e},Bt.prototype.toFilter=function(t,e){var n;if(z((n=e?S(e)?{listener:e}:e:{}).ns))n.type=t;else{var r=this.toEvent(t);n.type=r.type,n.ns=r.ns}return n},typeof setImmediate===g&&Xt(setImmediate)&&setImmediate;var Zt,Jt=typeof MessageChannel===g&&Xt(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,Kt=function(){this.tasks=[]};Kt.shared=function(){return Zt||(Zt=new Kt)},Kt.prototype.append=function(t,e){var n=this,r=n.tasks;Y(r,{fn:t,ctx:e}),1===r.length&&Jt((function(){n.run()}))},Kt.prototype.prepend=function(t,e){var n=this,r=n.tasks;q(r,{fn:t,ctx:e}),1===r.length&&Jt((function(){n.run()}))},Kt.prototype.clear=function(){this.tasks.length=0},Kt.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],M(t,(function(t){U(t.fn,t.ctx)})))};var Qt="$loading";function te(t,e,n){var r=e.node,o=e.nativeAttrs,i=n&&n.nativeAttrs;if(o||i){var a=o||A,f=i||A;for(var u in a)f[u]!==l&&a[u]===f[u]||t.attr(r,u,a[u]);for(var c in f)a[c]===l&&t.removeAttr(r,c)}}function ee(t,e,n){var r=e.node,o=e.nativeProps,i=n&&n.nativeProps;if(o||i){var a=o||A,f=i||A;for(var u in a)f[u]!==l&&a[u]===f[u]||t.prop(r,u,a[u]);for(var c in f)a[c]===l&&t.removeProp(r,c)}}function ne(t,e){var n=t.data,r=t.directives,o=e&&e.directives;if(r||o){var i=n.$component||t.node,a=e&&t.keypath!==e.keypath,f=r||A,u=o||A;for(var c in f){var s=f[c],p=s.hooks,v=p.once,l=p.bind,d=p.unbind;u[c]?(v||s.value!==u[c].value||a)&&(d&&d(i,u[c],e),l(i,s,t)):l(i,s,t)}for(var h in u)if(!f[h]){var y=u[h].hooks.unbind;y&&y(i,u[h],e)}}}function re(t){var e=t.directives;if(e){var n=t.data.$component||t.node;for(var r in e){var o=e[r].hooks.unbind;o&&o(n,e[r],t)}}}function oe(t,e){var n,r=t.data,o=t.ref,i=t.props,a=t.slots,f=t.directives,u=t.context;if(t.isComponent){if(n=r.$component,e){var c=f&&f.model;c&&(i||(i={}),i[n.$model]=c.value);var s=Pt(i,a);s&&n.forceUpdate(s)}}else n=t.node;if(o){var p=u.$refs;p&&(p[o]=n)}}function ie(t,e){return t.tag===e.tag&&t.key===e.key}function ae(t,e,n){for(var r,o,i;e<=n;)(o=t[e])&&(i=o.key)&&(r||(r={}),r[i]=e),e++;return r||A}function fe(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function ue(t,e){var n=(t.parent||t.context).createComponent(e,t);return t.data.$component=n,t.data.$loading=p,ne(t),oe(t),n}var ce=0;function se(){var t={};return t.$id=++ce,t}function pe(t,e){var n=e.tag,r=e.node,o=e.data,i=e.isComponent,a=e.isComment,f=e.isText,u=e.isStyle,c=e.isOption,p=e.children,v=e.text,d=e.html,y=e.context;if(!r||!o)if(o=se(),e.data=o,f)e.node=t.createText(v);else if(a)e.node=t.createComment(v);else if(i){var m=l;n&&y.loadComponent(n,(function(t){Dt(o,Qt)?o.$loading&&(o.$vnode&&(e=o.$vnode,delete o.$vnode),me(e,ue(e,t))):m=t})),e.node=t.createComment(h),m?ue(e,m):o.$loading=s}else r=e.node=t.createElement(e.tag,e.isSvg),p?ve(t,r,p):v?t.text(r,v,u,c):d&&t.html(r,d,u,c),te(t,e),ee(t,e),ne(e),oe(e)}function ve(t,e,n,r,o,i){for(var a,f=r||0,u=o!==l?o:n.length-1;f<=u;)pe(t,a=n[f]),le(t,e,a,i),f++}function le(t,e,n,r){var o=n.node,i=n.data,a=n.context,f=t.parent(o);if(r?t.before(e,o,r.node):t.append(e,o),!f){var u=l;if(n.isComponent){var c=i.$component;c&&(u=function(){me(n,c)})}else n.isStatic||n.isText||n.isComment||(u=function(){me(n)});u&&a.$observer.nextTask.prepend(u)}}function de(t,e,n,r,o){for(var i,a=r||0,f=o!==l?o:n.length-1;a<=f;)(i=n[a])&&he(t,e,i),a++}function he(t,e,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var o,i=function(){ye(t,n),t.remove(e,r)};if(n.isComponent&&!(o=n.data.$component))return void i();!function(t,e,n){var r=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var i=o.leave;if(i)return void i(t.node,r.$leaving=function(){r.$leaving&&(n(),r.$leaving=l)})}n()}(n,o,i)}}function ye(t,e){var n=e.data,r=e.children,o=e.parent,i=e.slot;if(i&&o&&o.$vnode){var a=o.get(i);if(a&&Z(a,e))return}if(e.isComponent){var f=n.$component;f?(re(e),f.destroy()):n.$loading=p}else re(e),r&&M(r,(function(e){ye(t,e)}))}function me(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),U(n.$leaving),r){var o=r.enter;if(o)return void o(t.node)}}function ge(t,e,n){if(e!==n){var r=n.node,o=n.data;if(!ie(e,n)){var i=t.parent(r);return pe(t,e),void(i&&(le(t,i,e,n),he(t,i,n)))}if(e.node=r,e.data=o,n.isComponent&&o.$loading)o.$vnode=e;else{te(t,e,n),ee(t,e,n),ne(e,n),oe(e,n);var a=e.text,f=e.html,u=e.children,c=e.isStyle,s=e.isOption,p=n.text,v=n.html,d=n.children;z(a)?a!==p&&t.text(r,a,c,s):z(f)?f!==v&&t.html(r,f,c,s):u&&d?u!==d&&function(t,e,n,r){for(var o,i,a=0,f=n.length-1,u=n[a],c=n[f],s=0,p=r.length-1,v=r[s],d=r[p];s<=p&&a<=f;)u?c?v?d?ie(u,v)?(ge(t,u,v),u=n[++a],v=r[++s]):ie(c,d)?(ge(t,c,d),c=n[--f],d=r[--p]):ie(c,v)?(ge(t,c,v),fe(t,e,v.node,t.next(d.node)),c=n[--f],v=r[++s]):ie(u,d)?(ge(t,u,d),fe(t,e,d.node,v.node),u=n[++a],d=r[--p]):(o||(o=ae(r,s,p)),(i=u.key?o[u.key]:l)!==l?(ge(t,u,r[i]),r[i]=l):pe(t,u),le(t,e,u,v),u=n[++a]):d=r[--p]:v=r[++s]:c=n[--f]:u=n[++a];s>p?ve(t,e,n,a,f,n[f+1]):a>f&&de(t,e,r,s,p)}(t,r,u,d):u?((z(p)||z(v))&&t.text(r,T,c),ve(t,r,u)):d?de(t,r,d):(z(p)||z(v))&&t.text(r,T,c)}}}function $e(t,e){return L(t)?+t:e!==l?e:0}function xe(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var be="directives";function ke(r,o,i,a,f,u,c){var p,d={$keypath:T},h=[d],y=[],m=[],g={},x=function(t,e,n,r,i,f){var u=t[e],c=wt(u.$keypath,n),s=t,p=Et;if(f===l&&(f=c),u[n]!==l?s=u[n]:u.$item!==l&&(u=u.$item,n===T?s=u:u!=v&&u[n]!==l&&(s=u[n])),s===t&&(s=o.get(c,t,i))===t){if(r&&e>0)return x(t,e-1,n,r,i,f);var d=zt(a,n);return d?(p=d).keypath=n:(p.value=l,p.keypath=f),p}return p.value=s,p.keypath=c,p},b=function(t,e,n){return function(o,i){var a=r[t];if(W.is(o)){var f=l;if(e){var u=G(n);u&&(u.$event=o,u.$data=i,f=U(a,r,e(n)),u.$event=u.$data=l)}else f=U(a,r,i?[o,i]:o);return f}U(a,r,e?e(n):l)}},k=function(t,e){return function(){return t(e)}},w=function(t){var e=G(y);if(e){var n=Ut(t),o=G(e);if(o&&o.isText)o.text+=n;else Y(e,{tag:"#",isText:s,text:n,context:r,keypath:d.$keypath})}},C=function(t,e){xe(p,p.isComponent?"props":"nativeAttrs",t,e)},_=function(t,e){xe(p,"nativeProps",t,e)},E=function(t,e){xe(p,"lazy",t,e)},A=function(t){p.transition=c[t]},O=function(t,e,r){var o=wt(n,t);return xe(p,be,o,{ns:n,name:t,key:o,modifier:e.keypath,hooks:u.binding,hint:r}),e.value},S=function(e){xe(p,be,t,{ns:t,name:T,key:t,value:e.value,modifier:e.keypath,hooks:u.model})},z=function(t,n,r,o,i,a){xe(p,be,n,{ns:e,name:t,key:n,value:o,modifier:r,hooks:u.event,handler:b(i,a,h)})},N=function(t,n,o,i,a){var f;xe(p,be,n,{ns:e,name:t,key:n,value:i,modifier:o,hooks:u.event,handler:(f=a,function(t,e){f!==t.type&&(t=new W(f,t)),r.fire(t,e)})})},D=function(t,e,n,r,o,i,a){var f=u[t];xe(p,be,e,{ns:"o",name:t,key:e,value:r,hooks:f,modifier:n,getter:a?k(a,h):l,handler:o?b(o,i,h):l})},L=function(t){var e=t.value,r=t.keypath;if(j(e)){for(var o in e)xe(p,"props",o,e[o]);if(r){var i=wt(n,r);xe(p,be,i,{ns:n,name:T,key:i,modifier:wt(r,"*"),hooks:u.binding})}}},R=function(t){var e=G(y);return e&&Y(e,t),t},M=function(){return R({tag:"!",isComment:s,text:T,keypath:d.$keypath,context:r})},H=function(t,e,n,o,i,a,f,u,c,s){var v={tag:t,isStatic:o,isOption:i,isStyle:a,isSvg:f,ref:c,key:s,context:r,keypath:d.$keypath};return u!==l&&(v.html=Ut(u)),e&&(p=v,e(),p=l),n&&(y.push(v.children=[]),n(),V(y)),R(v)},F=function(t,e,n,o,i){var a={tag:t,ref:o,key:i,context:r,keypath:d.$keypath,isComponent:s},f=G(m);if(f&&Y(f,a),e&&(p=a,e(),p=l),n){var u={};for(var c in n){y.push([]),m.push([]),n[c]();var v=V(y),h=V(m);v.length?u[c]={vnodes:v,components:h}:u[c]=l}a.slots=u}return R(a)},I=function(t,e,n,r,o,i){var a=i||h,f=a.length-1;n&&(f-=n);var u=x(a,f,t,e,o);return r?u:u.value},B=function(t,e){return q(e,t),K(e,$)},X=function(t,e,n,r){n!==l&&(e=K(n,$));var o=zt(t,e);return Et.keypath=l,Et.value=o?o.value:l,r?Et:Et.value},Z=function(t,e,n){return Et.keypath=l,Et.value=U(t,r,e||l),n?Et:Et.value},J=function(t,e){var n=G(y),o=r.get(t);if(n)if(o){for(var i=o.vnodes,a=o.components,f=0,u=i.length;f<u;f++)Y(n,i[f]),i[f].slot=t;for(var c=0,s=a.length;c<s;c++)a[c].parent=r}else e&&e()},Q=function(t,e){g[t]=e},tt=function(t){if(g[t])g[t]();else{var e=f[t];e&&e(I,B,X,Z,w,C,_,E,A,O,S,z,N,D,L,M,H,F,J,Q,tt,nt,rt,ot)}},et=function(t,e,n,r,o,i){var a=d,f=h;d={$keypath:r},h=f.concat(d),i!==l&&(d.$length=i),o&&(d[o]=n),r||(d.$item=e),t(),d=a,h=f},nt=function(t,e,n){var r=e.keypath,o=e.value;if(P(o))for(var i=0,a=o.length;i<a;i++)et(t,o[i],i,r?wt(r,T+i):T,n,a);else if(j(o))for(var f in o)et(t,o[f],f,r?wt(r,f):T,n)},rt=function(t,e,n,r){var o=0;if(e<n)for(var i=e;i<n;i++)et(t,i,o++,T,r);else for(var a=e;a>n;a--)et(t,a,o++,T,r)},ot=function(t,e,n,r){var o=0;if(e<n)for(var i=e;i<=n;i++)et(t,i,o++,T,r);else for(var a=e;a>=n;a--)et(t,a,o++,T,r)};return i(I,B,X,Z,w,C,_,E,A,O,S,z,N,D,L,M,H,F,J,Q,tt,nt,rt,ot)}var we=0,Ce=function(t,e,n){t.addEventListener(e,n,p)},_e=function(t,e,n){t.removeEventListener(e,n,p)},Ee=function(t,e){t.classList.add(e)},Ae=function(t,e){t.classList.remove(e)};b&&(b.documentElement.classList||(Ee=function(t,e){var n=t.className.split(Oe);Z(n,e)||(Y(n,e),t.className=K(n,Oe))},Ae=function(t,e){var n=t.className.split(Oe);X(n,e)&&(t.className=K(n,Oe))}));var Oe=" ",Te="compositionstart",Se="compositionend",Pe={svg:"http://www.w3.org/2000/svg"},je={},ze={};function Ne(t){return b.createComment(t)}function De(t,e,n){if(n!==l)Nt(t,e,n,p);else{var r=zt(t,e);if(r)return r.value}}function Le(t,e,n){if(n!==l)t.setAttribute(e,n);else{var r=t.getAttribute(e);if(r!=v)return r}}function Re(t,e){t.appendChild(e)}ze.model={on:function(t,e){var n=p;Fe(t,Te,e.compositionstart=function(){n=s}),Fe(t,Se,e.compositionend=function(t){n=p,e(t)}),Ce(t,w,e.input=function(t){n||e(t)})},off:function(t,e){Ie(t,Te,e.compositionstart),Ie(t,Se,e.compositionend),_e(t,w,e.input),e.compositionstart=e.compositionend=e.input=l}};var Ue=function(t){var e=b.querySelector(t);if(e)return e};function We(t,e,n,r){if(e===l)return t.innerHTML;t.innerHTML=e}var Me=Ee,He=Ae;function Fe(t,e,n,r){var o=t.$emitter||(t.$emitter=++we),i=je[o]||(je[o]=new Bt),a=i.nativeListeners||(i.nativeListeners={});if(!a[e]){var f=ze[e],u=function(t){var n=W.is(t)?t:new W(t.type,function(t,e){return t}(t));n.type!==e&&(n.type=e),i.fire({type:e,ns:T},[n])};a[e]=u,f?f.on(t,u):Ce(t,e,u)}i.on(e,{ns:T,listener:n,ctx:r})}function Ie(t,e,n){var r=t.$emitter,o=je[r],i=o.listeners,a=o.nativeListeners;if(o.off(e,{ns:T,listener:n}),a&&!o.has(e)){var f=ze[e],u=a[e];f?f.off(t,u):_e(t,e,u),delete a[e]}je[r]&&Lt(i)&&(t.$emitter=l,delete je[r])}var Ye=Object.freeze({__proto__:null,createElement:function(t,e){return e?b.createElementNS(Pe.svg,t):b.createElement(t)},createText:function(t){return b.createTextNode(t)},createComment:Ne,prop:De,removeProp:function(t,e){Nt(t,e,l)},attr:Le,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:Re,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:Ue,tag:function(t){if(1===t.nodeType)return lt(t.tagName)},text:function(t,e,n,r){if(e===l)return t.textContent;t.textContent=e},html:We,addClass:Me,removeClass:He,on:Fe,off:Ie,addSpecialEvent:function(t,e){ze[t]=e}}),qe=function(t,e,n,r,o,i,a){var f=this;f.keypath=t,f.cache=n,f.deps=r,f.context=o.context,f.observer=o,f.getter=i,f.setter=a,f.unique={},f.watcher=function(e,n,r){var i=f.value,a=f.get(s);a!==i&&o.diff(t,a,i)},f.watcherOptions={sync:e,watcher:f.watcher},(f.fixed=!Q(r))&&M(r,(function(t){o.watch(t,f.watcherOptions)}))};function Be(t,e){if(t==v||e===T)return t;var n=zt(t,e);return n?n.value:void 0}function Ge(t,e,n,r,o){var i=function(e,n,i){if(n!==i){var a=wt(t,e);M(r,(function(t){_t(a,t)!==l&&o(t,a,n,i)})),Ge(a,n,i,r,o)}};(function(t,e,n){var r=z(t),o=z(e);if(r||o)return n(m,r?t.length:l,o?e.length:l),s})(e,n,i)||function(t,e,n){var r=P(t),o=P(e);if(r||o){var i=r?t.length:l,a=o?e.length:l;n(m,i,a);for(var f=0,u=Math.max(i||0,a||0);f<u;f++)n(""+f,t?t[f]:l,e?e[f]:l);return s}}(e,n,i)||function(t,e,n){var r=j(t),o=j(e);(r||o)&&(t=r?t:A,e=o?e:A,r&&Ot(t,(function(t,r){t!==e[r]&&n(r,t,e[r])})),o&&Ot(e,(function(e,r){e!==t[r]&&n(r,t[r],e)})))}(e,n,i)}function Ve(t,e,n,r,o,i){var a;Ot(r,(function(r,f){if(Ct(f))_t(t,f)!==l?i(f,t,e,n):o&&(a?Y(a,f):a=[f]);else{var u=function(t,e){return t===e||st(t,e+=$)?e.length:-1}(f,t);if(u>=0){var c=ft(f,u),s=Be(e,c),p=Be(n,c);s!==p&&i(f,f,s,p)}}})),a&&Ge(t,e,n,a,i)}function Xe(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}qe.prototype.get=function(t){var e=this,n=e.getter,r=e.context;if(e.cache){if(t||!Dt(e,y))if(e.fixed)e.value=U(n,r);else{e.unbind();var o=qe.current;qe.current=e,e.value=U(n,r),e.bind(),qe.current=o}}else e.value=U(n,r);return e.value},qe.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},qe.prototype.add=function(t){this.unique[t]=s},qe.prototype.bind=function(){var t=this,e=t.unique,n=t.deps,r=t.observer,o=t.watcherOptions;Ot(e,(function(t,e){Y(n,e),r.watch(e,o)})),this.unique={}},qe.prototype.unbind=function(){var t=this,e=t.deps,n=t.observer,r=t.watcher;M(e,(function(t){n.unwatch(t,r)}),s),e.length=0};var Ze={watcher:E};function Je(t,e){return S(t)?(Ze.watcher=t,Ze.immediate=e===s,Ze):t&&t.watcher?t:void 0}var Ke=function(t,e){var n=this;n.data=t||{},n.context=e||n,n.nextTask=new Kt,n.syncEmitter=new Bt,n.asyncEmitter=new Bt,n.asyncChanges={}};function Qe(t,e,n){var r;return function(){if(!r){var o=J(arguments);n&&U(t,l,o),r=setTimeout((function(){r=l,n||U(t,l,o)}),e)}}}Ke.prototype.get=function(t,e,n){var r,o=qe.current,i=this.data,a=this.computed;return t===T?i:(o&&!n&&o.add(t),a&&(r=zt(a,t)),r||(r=zt(i,t)),r?r.value:e)},Ke.prototype.set=function(t,e){var n=this,r=n.data,o=n.computed,i=function(t,e){var i,a=n.get(e);t!==a&&(kt(e,(function(e,n,a){0!==n?i&&(n===a?i[e]=t:i=i[e]||(i[e]={})):o&&o[e]?0===a?o[e].set(t):i=o[e].get():0===a?r[e]=t:i=r[e]||(r[e]={})})),n.diff(e,t,a))};z(t)?i(e,t):j(t)&&Ot(t,i)},Ke.prototype.diff=function(t,e,n){var r=this,o=r.syncEmitter,i=r.asyncEmitter,a=r.asyncChanges,f=36!==pt(t);Ve(t,e,n,o.listeners,f,(function(t,e,n,r){o.fire({type:t,ns:T},[n,r,e])})),Ve(t,e,n,i.listeners,f,(function(t,e,n,o){M(i.listeners[t],(function(t){t.count++}));var f=(a[e]||(a[e]={value:o,keypaths:[]})).keypaths;Z(f,t)||Y(f,t),r.pending||(r.pending=s,r.nextTask.append((function(){r.pending&&(r.pending=l,r.diffAsync())})))}))},Ke.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Ot(n,(function(n,r){var o=[t.get(r),n.value,r];M(n.keypaths,(function(t){e.fire({type:t,ns:T},o,Xe)}))}))},Ke.prototype.addComputed=function(t,e){var n,r,o=s,i=s,a=[];if(S(e))n=e;else if(j(e)){var f=e;D(f.cache)&&(o=f.cache),D(f.sync)&&(i=f.sync),P(f.deps)&&(a=jt(f.deps)),S(f.get)&&(n=f.get),S(f.set)&&(r=f.set)}if(n){var u=this,c=new qe(t,i,o,a,u,n,r);return u.computed||(u.computed={}),u.computed[t]=c,c}},Ke.prototype.removeComputed=function(t){var e=this.computed;e&&Dt(e,t)&&delete e[t]},Ke.prototype.watch=function(t,e,n){var r=this,o=r.context,i=r.syncEmitter,a=r.asyncEmitter,f=function(t,e){var n=e.sync?i:a,f={ns:T,listener:e.watcher,ctx:o,count:0};e.once&&(f.max=1),n.on(t,f),e.immediate&&U(e.watcher,o,[r.get(t),l,t])};z(t)?f(t,Je(e,n)):Ot(t,(function(t,e){f(e,Je(t))}))},Ke.prototype.unwatch=function(t,e){var n={ns:T,listener:e};this.syncEmitter.off(t,n),this.asyncEmitter.off(t,n)},Ke.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},Ke.prototype.increase=function(t,e,n){var r=$e(this.get(t),0)+(e||1);if(!N(n)||r<=n)return this.set(t,r),r},Ke.prototype.decrease=function(t,e,n){var r=$e(this.get(t),0)-(e||1);if(!N(n)||r>=n)return this.set(t,r),r},Ke.prototype.insert=function(t,e,n){var r=this.get(t),o=(r=P(r)?jt(r):[]).length;if(n===s||n===o)r.push(e);else if(n===p||0===n)r.unshift(e);else{if(!(n>0&&n<o))return;r.splice(n,0,e)}return this.set(t,r),s},Ke.prototype.append=function(t,e){return this.insert(t,e,s)},Ke.prototype.prepend=function(t,e){return this.insert(t,e,p)},Ke.prototype.removeAt=function(t,e){var n=this.get(t);if(P(n)&&e>=0&&e<n.length)return(n=jt(n)).splice(e,1),this.set(t,n),s},Ke.prototype.remove=function(t,e){var n=this.get(t);if(P(n)&&X(n=jt(n),e))return this.set(t,n),s},Ke.prototype.copy=function(t,e){return jt(t,e)},Ke.prototype.destroy=function(){var t=this;t.syncEmitter.off(),t.asyncEmitter.off(),t.nextTask.clear(),Tt(t)};var tn=Object.freeze({__proto__:null,bind:function(t,e,n){var r=e.key,o=e.name,i=e.modifier,a=e.handler,f=n.lazy;if(a){if(f){var u=f[o]||f[""];u===s?o=C:u>0&&(a=Qe(a,u,"click"===o||"tap"===o))}var c;if(n.isComponent){var p=t;if("native"===i)Fe(c=p.$el,o,a),n.data[r]=function(){Ie(c,o,a)};else{var v={ns:i||T,listener:function(t,e){if(t.phase!==W.PHASE_DOWNWARD)return a(t,e)}};p.on(o,v),n.data[r]=function(){p.off(o,v)}}}else Fe(c=t,o,a),n.data[r]=function(){Ie(c,o,a)}}},unbind:function(t,e,n){U(n.data[e.key])}});function en(t,e){return e&&e!==s?Qe(t,e):t}var nn={set:function(t,e){t.value=Ut(e)},sync:function(t,e,n){n.set(e,t.value)},name:y},rn={set:function(t,e){t.checked=t.value===Ut(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},on={set:function(t,e){t.checked=P(e)?Z(e,t.value,p):!!e},sync:function(t,e,n){var r=n.get(e);P(r)?t.checked?n.append(e,t.value):n.removeAt(e,B(r,t.value,p)):n.set(e,t.checked)},name:"checked"},an={set:function(t,e){M(J(t.options),t.multiple?function(t){t.selected=Z(e,t.value,p)}:function(n,r){if(n.value==e)return t.selectedIndex=r,p})},sync:function(t,e,n){var r=t.options;if(t.multiple){var o=[];M(J(r),(function(t){t.selected&&Y(o,t.value)})),n.set(e,o)}else n.set(e,r[t.selectedIndex].value)},name:y};var fn=Object.freeze({__proto__:null,once:true,bind:function(t,e,n){var r,o,i=n.context,a=n.lazy,f=n.isComponent,u=e.modifier,c=a&&(a.model||a[""]);if(f){var p=t,v=p.$model,d=en((function(t){i.set(u,t)}),c);r=function(t){r&&p.set(v,t)},o=function(){p.unwatch(v,d)},p.watch(v,d)}else{var h=t,y="select"===n.tag?an:nn,m=C;if(y===nn){var g=t.type;"radio"===g?y=rn:"checkbox"===g?y=on:c!==s&&(m=_)}r=function(t){r&&y.set(h,t)};var $=en((function(){y.sync(h,u,i)}),c);o=function(){Ie(h,m,$)},Fe(h,m,$),y.set(h,e.value)}i.watch(u,r),n.data[e.key]=function(){i.unwatch(u,r),r=l,o()}},unbind:function(t,e,n){U(n.data[e.key])}});var un=Object.freeze({__proto__:null,once:true,bind:function(t,e,n){var r=e.modifier,o=Ct(r),i=function(a,f,u){if(i){var c=o?_t(u,r):e.name;if(n.isComponent){var s=t;s.checkProp(c,a),s.set(c,a)}else{var p=t;e.hint!==l?De(p,c,a):Le(p,c,a)}}};n.context.watch(r,i),n.data[e.key]=function(){n.context.unwatch(r,i),i=l}},unbind:function(t,e,n){U(n.data[e.key])}}),cn={},sn={},pn={},vn={},ln={},dn="$$",hn=/^[#.][-\w+]+$/,yn=function(t){var e=this,n=t||A;e.$emitter=new Bt(s),n.events&&e.on(n.events),n.parent&&(e.$parent=n.parent),U(n.beforeCreate,e,n),e.fire({type:o,ns:r},n);var a=n.data,f=n.props,u=n.vnode,c=n.propTypes,v=n.computed,d=n.methods,y=n.watchers,m=n.extensions;e.$options=n,m&&St(e,m);var $=f?jt(f):{};c&&Ot(c,(function(t,e){var n=$[e];n===l&&(n=t.value)!==l&&($[e]=t.type===g?n:S(n)?n():n)}));var x=e.$observer=new Ke($,e);v&&Ot(v,(function(t,e){x.addComputed(e,t)}));var b=S(a)?U(a,e,t):a;j(b)&&Ot(b,(function(t,e){$[e]=t})),d&&Ot(d,(function(t,n){e[n]=t}));var k=l,w=n.el,C=n.root,_=n.model,E=n.context,O=n.replace,P=n.template,N=n.transitions,D=n.components,L=n.directives,R=n.partials,W=n.filters,M=n.slots;if(_&&(e.$model=_),M&&St($,M),z(P)&&hn.test(P)&&(k=Ue(P))&&(P=We(k),k=l),w){if(z(w)){var H=w;hn.test(H)&&(k=Ue(H))}else k=w;O||Re(k,k=Ne(T))}if(C&&(e.$root=C),E&&(e.$context=E),mn(e,"transition",N),mn(e,h,D),mn(e,"directive",L),mn(e,"partial",R),mn(e,"filter",W),P){var F=y?jt(y):{};return F.$$={sync:s,watcher:function(t){e.update(t,e.$vnode)}},x.addComputed(dn,{sync:p,get:function(){return e.render()}}),e.watch(F),U(e.$options.afterCreate,e),e.fire({type:i,ns:r}),e.$template=z(P)?yn.compile(P):P,u||(u=function(t,e,n,r){return{tag:t.tag(e),data:se(),node:e,context:n,keypath:r}}(Ye,k,e,T)),void e.update(e.get(dn),u)}y&&e.watch(y),U(e.$options.afterCreate,e),e.fire({type:i,ns:r})};function mn(t,e,n){S(n)?t[e](U(n,t)):j(n)&&t[e](n)}function gn(t,e,n,r){var o=t.$emitter.toFilter(e,n),i={listener:o.listener,ns:o.ns,ctx:t};r&&(i.max=1),t.$emitter.on(o.type,i)}function $n(t,e,n,r){z(e)?gn(t,e,n,r):Ot(e,(function(e,n){gn(t,n,e,r)}))}function xn(t,e,n){if(t&&t[e]){var r=t[e];if(S(r)){t[e]=[n];var o=function(n){var r=t[e],o=n.default||n;t[e]=o,M(r,(function(t){t(o)}))},i=r(o);i&&i.then(o)}else P(r)?Y(r,n):n(r);return s}}function bn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function kn(t,e,n,r){z(e)?t[e]=r?r(n):n:Ot(e,(function(e,n){t[n]=r?r(e):e}))}return yn.define=function(t){return t},yn.use=function(t){t.install(yn)},yn.nextTick=function(t,e){Kt.shared().append(t,e)},yn.compile=function(t,e){return t},yn.directive=function(t,e){if(z(t)&&!e)return bn(cn,t);kn(cn,t,e)},yn.transition=function(t,e){if(z(t)&&!e)return bn(sn,t);kn(sn,t,e)},yn.component=function(t,e){if(z(t)&&!e)return bn(pn,t);kn(pn,t,e)},yn.partial=function(t,e){if(z(t)&&!e)return bn(vn,t);kn(vn,t,e,yn.compile)},yn.filter=function(t,e){if(z(t)&&!e)return bn(ln,t);kn(ln,t,e)},yn.prototype.get=function(t,e){return this.$observer.get(t,e)},yn.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},yn.prototype.on=function(t,e){return $n(this,t,e),this},yn.prototype.once=function(t,e){return $n(this,t,e,s),this},yn.prototype.off=function(t,e){return this.$emitter.off(t,e),this},yn.prototype.fire=function(t,e,n){var r,o=this,i=o.$emitter,a=o.$parent,f=o.$children;if(W.is(t))r=t;else if(z(t))r=new W(t);else{var u=t;(r=new W(u.type)).ns=u.ns}if(r.ns===l){var c=i.toEvent(r.type);r.type=c.type,r.ns=c.ns}r.target||(r.target=o);var p,v=[r];return j(e)?Y(v,e):e===s&&(n=s),(p=n&&r.target===o?s:i.fire(r,v))&&(n?f&&(r.phase=W.PHASE_DOWNWARD,M(f,(function(t){return p=t.fire(r,e,s)}))):a&&(r.phase=W.PHASE_UPWARD,p=a.fire(r,e))),p},yn.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},yn.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},yn.prototype.loadComponent=function(t,e){xn(this.$components,t,e)||xn(pn,t,e)},yn.prototype.createComponent=function(t,e){var n=this;(t=jt(t)).root=n.$root||n,t.parent=n,t.context=e.context,t.vnode=e,t.replace=s;var r=e.props,o=e.slots,i=e.directives,a=i&&i.model;if(a){r||(r={});var f=t.model||"value";r[f]=a.value,t.model=f}r&&(t.props=r),o&&(t.slots=o);var u=new yn(t);Y(n.$children||(n.$children=[]),u);var c=u.$el;return c&&(e.node=c),u},yn.prototype.directive=function(t,e){var n=this.$directives;if(z(t)&&!e)return bn(n,t,yn.directive);kn(n||(this.$directives={}),t,e)},yn.prototype.transition=function(t,e){var n=this.$transitions;if(z(t)&&!e)return bn(n,t,yn.transition);kn(n||(this.$transitions={}),t,e)},yn.prototype.component=function(t,e){var n=this.$components;if(z(t)&&!e)return bn(n,t,yn.component);kn(n||(this.$components={}),t,e)},yn.prototype.partial=function(t,e){var n=this.$partials;if(z(t)&&!e)return bn(n,t,yn.partial);kn(n||(this.$partials={}),t,e,yn.compile)},yn.prototype.filter=function(t,e){var n=this.$filters;if(z(t)&&!e)return bn(n,t,yn.filter);kn(n||(this.$filters={}),t,e)},yn.prototype.forceUpdate=function(t){var e=this,n=e.$options,r=e.$vnode,o=e.$observer,i=o.computed;if(r&&i){var a=i.$$,f=a.get();t&&(U(n.beforePropsUpdate,e,t),e.set(t)),o.nextTask.run(),t||f!==a.get()||e.update(a.get(s),r)}},yn.prototype.render=function(){var t=this;return ke(t,t.$observer,t.$template,Pt(t.$filters,ln),Pt(t.$partials,vn),Pt(t.$directives,cn),Pt(t.$transitions,sn))},yn.prototype.update=function(t,e){var n,o=this,i=o.$vnode,u=o.$options;o.$refs={},i?(U(u.beforeUpdate,o),o.fire({type:f,ns:r}),ge(Ye,t,e),n="afterUpdate"):(U(u.beforeMount,o),o.fire({type:a,ns:r}),ge(Ye,t,e),o.$el=t.node,n="afterMount"),o.$vnode=t,yn.nextTick((function(){o.$vnode&&(U(u[n],o),o.fire({type:n,ns:r}))}))},yn.prototype.checkProp=function(t,e){},yn.prototype.destroy=function(){var t=this,e=t.$parent,n=t.$options,o=t.$emitter,i=t.$observer;U(n.beforeDestroy,t),t.fire({type:u,ns:r});var a=t.$vnode;e&&e.$children&&X(e.$children,t),a&&(t.$vnode=l,function(t,e,n){if(n){var r=t.parent(e.node);r&&he(t,r,e)}else ye(t,e)}(Ye,a,!e)),i.destroy(),U(n.afterDestroy,t),t.fire({type:c,ns:r}),o.off(),Tt(t)},yn.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},yn.prototype.toggle=function(t){return this.$observer.toggle(t)},yn.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},yn.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},yn.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},yn.prototype.append=function(t,e){return this.$observer.append(t,e)},yn.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},yn.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},yn.prototype.remove=function(t,e){return this.$observer.remove(t,e)},yn.prototype.copy=function(t,e){return this.$observer.copy(t,e)},yn.version="1.0.0-alpha.125",yn.is=R,yn.dom=Ye,yn.array=tt,yn.object=Rt,yn.string=yt,yn.logger=qt,yn.Event=W,yn.Emitter=Bt,yn.directive({event:tn,model:fn,binding:un}),yn.filter({hasSlot:function(t){return this.get("$slot_"+t)!==l}}),yn}));
//# sourceMappingURL=yox.min.js.map
