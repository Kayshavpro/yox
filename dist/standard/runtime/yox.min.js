!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Yox=e()}(this,(function(){"use strict";var t="beforeCreate",e="afterCreate",n="beforeMount",r="beforeUpdate",o="beforeDestroy",i="afterDestroy",a=!0,f=!1,u=null,c=void 0,s="undefined",p="component",v="function",l=".",d=typeof window!==s?window:c,h=typeof document!==s?document:c,m="input",y="change",g="model",$=function(){},x=Object.freeze({}),k=Object.freeze([]),b="",w=/yox/.test($.toString())?2:3,C={leftDelimiter:"{",rightDelimiter:"}",uglifyCompiled:f,minifyCompiled:f,logLevel:w};function E(t){return typeof t===v}function A(t){return Array.isArray(t)}function T(t){return t!==u&&"object"==typeof t}function O(t){return"string"==typeof t}function _(t){return"number"==typeof t&&!isNaN(t)}function P(t){return"boolean"==typeof t}function S(t){return _(t)||O(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var D=Object.freeze({__proto__:null,func:E,array:A,object:T,string:O,number:_,boolean:P,numeric:S});function N(t,e,n){if(E(t))return A(n)?t.apply(e,n):e!==c?t.call(e,n):n!==c?t(n):t()}var j=function(t,e){this.type=t,this.phase=j.PHASE_CURRENT,e&&(this.originalEvent=e)};function z(t,e,n){var r=t.length;if(r)if(n)for(var o=r-1;o>=0&&e(t[o],o)!==f;o--);else for(var i=0;i<r&&e(t[i],i)!==f;i++);}function R(t,e){t[t.length]=e}function H(t,e){t.unshift(e)}function W(t,e,n){A(e)?z(e,(function(e){n(t,e)})):n(t,e)}function U(t,e){W(t,e,R)}function L(t,e){W(t,e,H)}function M(t,e,n){var r=-1;return z(t,(function(t,o){if(n===f?t==e:t===e)return r=o,f})),r}function F(t){var e=t.length;if(e>0)return t[e-1]}function I(t,e,n){var r=0;return z(t,(function(o,i){(n===f?o==e:o===e)&&(t.splice(i,1),r++)}),a),r}function V(t,e,n){return M(t,e,n)>=0}function Y(t){return A(t)?t:N(k.slice,t)}function q(t,e){return t.join(e)}function K(t){return!A(t)||!t.length}j.is=function(t){return t instanceof j},j.prototype.preventDefault=function(){var t=this;if(!t.isPrevented){var e=t.originalEvent;e&&e.preventDefault(),t.isPrevented=a}return t},j.prototype.stopPropagation=function(){var t=this;if(!t.isStoped){var e=t.originalEvent;e&&e.stopPropagation(),t.isStoped=a}return t},j.prototype.prevent=function(){return this.preventDefault()},j.prototype.stop=function(){return this.stopPropagation()},j.PHASE_CURRENT=0,j.PHASE_UPWARD=1,j.PHASE_DOWNWARD=-1;var B=Object.freeze({__proto__:null,each:z,push:U,unshift:L,indexOf:M,last:F,pop:function(t){if(t.length>0)return t.pop()},remove:I,has:V,toArray:Y,toObject:function(t,e,n){var r={};return z(t,(function(t){r[e?t[e]:t]=n||t})),r},join:q,falsy:K});function G(t,e){return t!=u&&t.toString?t.toString():e!==c?e:b}function Z(t){return E(t)&&G(t).indexOf("[native code]")>=0}var J=function(){var t=Object.create(u);return{get:function(e){return t[e]},set:function(e,n){t[e]=n},has:function(e){return e in t},keys:function(){return Object.keys(t)}}};function Q(t){var e=J();return function(n){var r=e.get(n);if(r!==c)return r;var o=t(n);return e.set(n,o),o}}function X(t){var e=J();return function(n,r){var o=e.get(n);if(o){var i=o.get(r);if(i)return i}else o=J(),e.set(n,o);var a=t(n,r);return o.set(r,a),a}}var tt=/-([a-z])/gi,et=/\B([A-Z])/g,nt=/^[a-z]/,rt=Q((function(t){return t.replace(tt,(function(t,e){return pt(e)}))})),ot=Q((function(t){return t.replace(et,(function(t,e){return"-"+vt(e)}))})),it=Q((function(t){return t.replace(nt,pt)}));function at(t,e,n){return _(n)?e===n?b:t.slice(e,n):t.slice(e)}function ft(t,e,n){return t.indexOf(e,n!==c?n:0)}function ut(t,e,n){return t.lastIndexOf(e,n!==c?n:t.length)}function ct(t,e){return 0===ft(t,e)}function st(t,e){return t.charCodeAt(e||0)}function pt(t){return t.toUpperCase()}function vt(t){return t.toLowerCase()}function lt(t,e){return ft(t,e)>=0}function dt(t){return!O(t)||!t.length}var ht=Object.freeze({__proto__:null,camelize:rt,hyphenate:ot,capitalize:it,repeat:function(t,e){return q(new Array(e+1),t)},trim:function(t){return dt(t)?b:t.trim()},slice:at,indexOf:ft,lastIndexOf:ut,startsWith:ct,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&ut(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:st,upper:pt,lower:vt,has:lt,falsy:dt}),mt=/\./g,yt=/\*/g,gt=/\*\*/g,$t=X((function(t,e){return t===e||ct(t,e+=l)?e.length:-1})),xt=Q((function(t){return ft(t,l)<0?[t]:t.split(l)}));function kt(t,e){for(var n=xt(t),r=0,o=n.length-1;r<=o&&e(n[r],r,o)!==f;r++);}var bt=X((function(t,e){return t&&e?t+l+e:t||e})),wt=Q((function(t){return lt(t,"*")})),Ct=Q((function(t){return new RegExp("^"+t.replace(mt,"\\.").replace(yt,"(\\w+)").replace(gt,"([.\\w]+?)")+"$")})),Et=X((function(t,e){var n=t.match(Ct(e));return n?n[1]:c})),At={value:c};function Tt(t){return Object.keys(t)}function Ot(t,e){for(var n in t)if(e(t[n],n)===f)break}function _t(t){Ot(t,(function(e,n){delete t[n]}))}function Pt(t,e){return Ot(e,(function(e,n){t[n]=e})),t}function St(t,e){return t&&e?Pt(Pt({},t),e):t||e}function Dt(t,e){var n=t;return A(t)?e?(n=[],z(t,(function(t,r){n[r]=Dt(t,e)}))):n=t.slice():T(t)&&(n={},Ot(t,(function(t,r){n[r]=e?Dt(t,e):t}))),n}function Nt(t,e){var n=t;return kt(e,(function(t,e,r){if(n==u)return n=c,f;var o=n[t],i=o!==c;o&&E(o.get)&&(o=o.get()),e===r?i?(At.value=o,n=At):n=c:n=o})),n}function jt(t,e,n,r){var o=t;kt(e,(function(t,e,i){if(e===i)o[t]=n;else if(o[t])o=o[t];else{if(!r)return f;o=o[t]={}}}))}function zt(t,e){return t[e]!==c}var Rt=Object.freeze({__proto__:null,keys:Tt,each:Ot,clear:_t,extend:Pt,merge:St,copy:Dt,get:Nt,set:jt,has:zt,falsy:function(t){return!T(t)||A(t)||!Tt(t).length}}),Ht=typeof console!==s?console:u,Wt=d&&/edge|msie|trident/i.test(d.navigator.userAgent)?b:"%c",Ut=Ht?Wt?function(t,e,n){Ht.log(Wt+t,n,e)}:function(t,e){Ht.log(t,e)}:$;function Lt(){var t=C.logLevel;return t>=1&&t<=5?t:w}function Mt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var Ft=Object.freeze({__proto__:null,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5,debug:function(t,e){Lt()<=1&&Ut(e||"Yox debug",t,Mt("#999"))},info:function(t,e){Lt()<=2&&Ut(e||"Yox info",t,Mt("#2db7f5"))},warn:function(t,e){Lt()<=3&&Ut(e||"Yox warn",t,Mt("#f90"))},error:function(t,e){Lt()<=4&&Ut(e||"Yox error",t,Mt("#ed4014"))},fatal:function(t,e){if(Lt()<=5)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),It=function(t){this.ns=t||f,this.listeners={}};function Vt(t,e){return t?t===e.listener:a}function Yt(t,e){var n=e.ns;return n&&t?n===t:a}It.prototype.fire=function(t,e,n){var r=this,o=O(t)?r.toEvent(t):t,i=r.listeners[o.type],u=a;if(i){i=i.slice();for(var s=e&&j.is(e[0])?e[0]:c,p=0,v=i.length;p<v;p++){var l=i[p];if(Yt(o.ns,l)&&V(i,l)&&(!n||n(o,e,l))){var d=N(l.listener,l.ctx,e);if(l.num=l.num?l.num+1:1,l.num===l.max&&r.off(o.type,{ns:o.ns,listener:l.listener}),s&&(d===f?s.prevent().stop():s.isStoped&&(d=f)),d===f){u=f;break}}}}return u},It.prototype.on=function(t,e){var n=this.listeners,r=E(e)?{listener:e}:e;if(T(r)&&E(r.listener)){if(!O(r.ns)){var o=this.toEvent(t);r.ns=o.ns,t=o.type}U(n[t]||(n[t]=[]),r)}},It.prototype.off=function(t,e){var n=this,r=n.listeners;if(t){var o=n.toFilter(t,e),i=function(t,e){z(t,(function(e,n){Vt(o.listener,e)&&Yt(o.ns,e)&&t.splice(n,1)}),a),t.length||delete r[e]};o.type?r[o.type]&&i(r[o.type],o.type):o.ns&&Ot(r,i)}else n.listeners={}},It.prototype.has=function(t,e){var n=this.listeners,r=this.toFilter(t,e),o=a,i=function(t){return z(t,(function(t){if(Vt(r.listener,t)&&Yt(r.ns,t))return o=f})),o};return r.type?n[r.type]&&i(n[r.type]):r.ns&&Ot(n,i),!o},It.prototype.toEvent=function(t){var e={type:t,ns:b};if(this.ns){var n=ft(t,l);n>=0&&(e.type=at(t,0,n),e.ns=at(t,n+1))}return e},It.prototype.toFilter=function(t,e){var n;if(O((n=e?E(e)?{listener:e}:e:{}).ns))n.type=t;else{var r=this.toEvent(t);n.type=r.type,n.ns=r.ns}return n},typeof setImmediate===v&&Z(setImmediate)&&setImmediate;var qt,Kt=typeof MessageChannel===v&&Z(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,Bt=function(t){this.tasks=[],this.hooks=t||x};Bt.shared=function(){return qt||(qt=new Bt)},Bt.prototype.append=function(t,e){var n=this,r=n.tasks;U(r,{fn:t,ctx:e}),1===r.length&&Kt((function(){n.run()}))},Bt.prototype.prepend=function(t,e){var n=this,r=n.tasks;L(r,{fn:t,ctx:e}),1===r.length&&Kt((function(){n.run()}))},Bt.prototype.clear=function(){this.tasks.length=0},Bt.prototype.run=function(){var t=this,e=t.tasks,n=t.hooks,r=e.length;if(r){t.tasks=[],n.beforeTask&&n.beforeTask();for(var o=0;o<r;o++)N(e[o].fn,e[o].ctx);n.afterTask&&n.afterTask()}};var Gt="$loading";function Zt(t,e,n){var r=e.node,o=e.nativeAttrs,i=n&&n.nativeAttrs;if(o||i){if(o){var a=i||x;for(var f in o)a[f]!==c&&o[f]===a[f]||t.setAttr(r,f,o[f])}if(i){var u=o||x;for(var s in i)u[s]===c&&t.removeAttr(r,s)}}}function Jt(t,e,n){var r=e.node,o=e.nativeProps,i=n&&n.nativeProps;if(o||i){if(o){var a=i||x;for(var f in o)a[f]!==c&&o[f]===a[f]||t.setProp(r,f,o[f])}if(i){var u=o||x;for(var s in i)u[s]===c&&t.removeProp(r,s)}}}function Qt(t,e,n){var r=e.context,o=e.ref,i=n&&n.ref;if(o||i){var a=r.$refs,f=e.component||e.node;o?i?o!==i&&(a?a[o]===f&&delete a[o]:a=r.$refs={},a[o]=f):(a||(a=r.$refs={}),a[o]=f):a&&i&&a[i]===f&&delete a[i]}}function Xt(t,e){var n=e.ref;if(n){var r=e.context.$refs,o=e.component||e.node;r&&r[n]===o&&delete r[n]}}function te(t,e,n){var r;return function(){if(!r){var o=Y(arguments);n&&N(t,c,o),r=setTimeout((function(){r=c,n||N(t,c,o)}),e)}}}function ee(t,e,n,r,o){var i=o.name,f=o.listener;if(r){var u=r[i]||r[""];u===a?i=y:u>0&&(f=te(f,u,"click"===i||"tap"===i))}if(n){if(o.isNative){var c=n.$el;return t.on(c,i,f),function(){t.off(c,i,f)}}return n.on(i,o),function(){n.off(i,o)}}return t.on(e,i,f),function(){t.off(e,i,f)}}function ne(t,e,n){var r=e.data,o=e.lazy,i=e.events,a=n&&n.events;if(i||a){var f=e.node,u=e.component,c=r.$event||(r.$event={});if(i){var s=a||x;for(var p in i){var v=i[p],l=s[p];l?v.value!==l.value?(c[p](),c[p]=ee(t,f,u,o,v)):l.runtime&&v.runtime&&(Pt(l.runtime,v.runtime),v.runtime=l.runtime):c[p]=ee(t,f,u,o,v)}}if(a){var d=i||x;for(var h in a)d[h]||(c[h](),delete c[h])}}}function re(t,e){var n=e.data,r=e.events,o=n.$event;if(r&&o)for(var i in r)o[i](),delete o[i]}function oe(t,e){return e&&e!==a?te(t,e):t}var ie={set:function(t,e){t.value=G(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},ae={set:function(t,e){t.checked=t.value===G(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},fe={set:function(t,e){t.checked=A(e)?V(e,t.value,f):!!e},sync:function(t,e,n){var r=n.get(e);A(r)?t.checked?n.append(e,t.value):n.removeAt(e,M(r,t.value,f)):n.set(e,t.checked)},name:"checked"},ue={set:function(t,e){z(Y(t.options),t.multiple?function(t){t.selected=V(e,t.value,f)}:function(n,r){if(n.value==e)return t.selectedIndex=r,f})},sync:function(t,e,n){var r=t.options;if(t.multiple){var o=[];z(Y(r),(function(t){t.selected&&U(o,t.value)})),n.set(e,o)}else n.set(e,r[t.selectedIndex].value)},name:"value"};function ce(t,e,n,r){var o,i,f=r.context,u=r.model,s=r.lazy,p=r.nativeProps,v=u.keypath,l=u.value,d=s&&(s.model||s[""]);if(n){var h=n.$model,m=oe((function(t){f.set(v,t)}),d);o=function(t){o&&n.set(h,t)},i=function(){n.unwatch(h,m)},n.watch(h,m)}else{var $="select"===r.tag?ue:ie,x=y;if($===ie){var k=p&&p.type;"radio"===k?$=ae:"checkbox"===k?$=fe:d!==a&&(x=g)}o=function(t){o&&$.set(e,t)};var b=oe((function(){$.sync(e,v,f)}),d);i=function(){t.off(e,x,b)},t.on(e,x,b),$.set(e,l)}return f.watch(v,o),function(){f.unwatch(v,o),o=c,i()}}function se(t,e,n){var r=e.data,o=e.node,i=e.component,a=e.model,f=n&&n.model;a?f?a.keypath!==f.keypath&&(r.$model(),r.$model=ce(t,o,i,e)):r.$model=ce(t,o,i,e):f&&(r.$model(),delete r.$model)}function pe(t,e){var n=e.data;n.$model&&(n.$model(),delete n.$model)}function ve(t,e,n){var r=e.directives,o=n&&n.directives;if(r||o){var i=e.component||e.node;if(r){var a=o||x;for(var f in r){var u=r[f],c=a[f],s=u.hooks,p=s.bind,v=s.unbind;c?u.value!==c.value?(v&&v(i,c,n),p(i,u,e)):c.runtime&&u.runtime&&(Pt(c.runtime,u.runtime),u.runtime=c.runtime):p(i,u,e)}}if(o){var l=r||x;for(var d in o)if(!l[d]){var h=o[d].hooks.unbind;h&&h(i,o[d],n)}}}}function le(t,e){var n=e.directives;if(n){var r=e.component||e.node;for(var o in n){var i=n[o].hooks.unbind;i&&i(r,n[o],e)}}}function de(t,e,n){var r=e.component,o=e.props,i=e.slots;if(r&&n){var a=St(o,i);a&&r.forceUpdate(a)}}function he(t,e){return t.isText&&e.isText||t.isComment&&e.isComment||t.tag===e.tag&&t.key===e.key}function me(t,e,n){for(var r,o,i;e<=n;)(o=t[e])&&(i=o.key)&&(r||(r={}),r[i]=e),e++;return r||x}function ye(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function ge(t,e,n){var r=(e.parent||e.context).createComponent(n,e);return e.component=r,e.data.$loading=f,Qt(0,e),ne(t,e),se(t,e),ve(0,e),de(0,e),r}function $e(t,e){var n=e.tag,r=e.node,o=e.data,i=e.isComponent,f=e.isComment,u=e.isText,s=e.isStyle,v=e.isOption,l=e.children,d=e.text,h=e.html,m=e.context;if(!r||!o)if(o={},e.data=o,u)e.node=t.createText(d);else if(f)e.node=t.createComment(d);else if(i){var y=c;n&&m.loadComponent(n,(function(n){zt(o,Gt)?o.$loading&&(o.$vnode&&(e=o.$vnode,delete o.$vnode),Ee(e,ge(t,e,n))):y=n})),e.node=t.createComment(p),y?ge(t,e,y):o.$loading=a}else r=e.node=t.createElement(e.tag,e.isSvg),l?xe(t,r,l):d?t.setText(r,d,s,v):h&&t.setHtml(r,h,s,v),Zt(t,e),Jt(t,e),Qt(0,e),ne(t,e),se(t,e),ve(0,e)}function xe(t,e,n,r,o,i){for(var a,f=r||0,u=o!==c?o:n.length-1;f<=u;)$e(t,a=n[f]),ke(t,e,a,i),f++}function ke(t,e,n,r){var o=n.node,i=n.component,a=n.context,f=t.parent(o);if(r?t.before(e,o,r.node):t.append(e,o),!f){var u=c;n.isComponent&&i?u=function(){Ee(n,i)}:n.isStatic||n.isText||n.isComment||(u=function(){Ee(n)}),u&&a.$nextTask.prepend(u)}}function be(t,e,n,r,o){for(var i,a=r||0,f=o!==c?o:n.length-1;a<=f;)(i=n[a])&&we(t,e,i),a++}function we(t,e,n){var r=n.node,o=n.component;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var i=function(){Ce(t,n),t.remove(e,r)};if(n.isComponent&&!o)return void i();!function(t,e,n){var r=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var i=o.leave;if(i)return void i(t.node,r.$leaving=function(){r.$leaving&&(n(),r.$leaving=c)})}n()}(n,o,i)}}function Ce(t,e){var n=e.data,r=e.children;e.isComponent?e.component?(Xt(0,e),re(0,e),pe(0,e),le(0,e),function(t,e){var n=e.component;n&&(n.destroy(),delete e.component)}(0,e)):n.$loading=f:(Xt(0,e),re(0,e),pe(0,e),le(0,e),r&&z(r,(function(e){Ce(t,e)})))}function Ee(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),N(n.$leaving),r){var o=r.enter;if(o)return void o(t.node)}}function Ae(t,e,n){if(e!==n){var r=n.data,o=n.node,i=n.isComponent;if(!he(e,n)){var a=t.parent(o);return $e(t,e),void(a&&(ke(t,a,e,n),we(t,a,n)))}if(e.data=r,e.node=o,e.component=n.component,n.isComponent&&r.$loading)r.$vnode=e;else{i||(Zt(t,e,n),Jt(t,e,n)),Qt(0,e,n),ne(t,e,n),se(t,e,n),ve(0,e,n),i&&de(0,e,n);var f=e.text,u=e.html,s=e.children,p=e.isStyle,v=e.isOption,l=n.text,d=n.html,h=n.children;O(f)?f!==l&&t.setText(o,f,p,v):O(u)?u!==d&&t.setHtml(o,u,p,v):s&&h?s!==h&&function(t,e,n,r){for(var o,i,a=0,f=n.length-1,u=n[a],s=n[f],p=0,v=r.length-1,l=r[p],d=r[v];p<=v&&a<=f;)u?s?l?d?he(u,l)?(Ae(t,u,l),u=n[++a],l=r[++p]):he(s,d)?(Ae(t,s,d),s=n[--f],d=r[--v]):he(s,l)?(Ae(t,s,l),ye(t,e,l.node,t.next(d.node)),s=n[--f],l=r[++p]):he(u,d)?(Ae(t,u,d),ye(t,e,d.node,l.node),u=n[++a],d=r[--v]):(o||(o=me(r,p,v)),(i=u.key?o[u.key]:c)!==c?(Ae(t,u,r[i]),r[i]=c):$e(t,u),ke(t,e,u,l),u=n[++a]):d=r[--v]:l=r[++p]:s=n[--f]:u=n[++a];p>v?xe(t,e,n,a,f,n[f+1]):a>f&&be(t,e,r,p,v)}(t,o,s,h):s?((O(l)||O(d))&&t.setText(o,b,p),xe(t,o,s)):h?be(t,o,h):(O(l)||O(d))&&t.setText(o,b,p)}}}function Te(t,e){return S(t)?+t:e!==c?e:0}var Oe=0,_e=function(t,e,n){t.addEventListener(e,n,f)},Pe=function(t,e,n){t.removeEventListener(e,n,f)},Se=function(t,e){t.classList.add(e)},De=function(t,e){t.classList.remove(e)};h&&(h.documentElement.classList||(Se=function(t,e){var n=t.className.split(Ne);V(n,e)||(U(n,e),t.className=q(n,Ne))},De=function(t,e){var n=t.className.split(Ne);I(n,e)&&(t.className=q(n,Ne))}));var Ne=" ",je="compositionstart",ze="compositionend",Re={svg:"http://www.w3.org/2000/svg"},He={},We={},Ue={},Le={};function Me(t){return h.createComment(t)}function Fe(t,e,n){jt(t,e,n,f)}function Ie(t,e,n){t.setAttribute(e,n)}function Ve(t,e){t.appendChild(e)}Le.model={on:function(t,e){var n=f;Je(t,je,e.compositionstart=function(){n=a}),Je(t,ze,e.compositionend=function(t){n=f,e(t)}),_e(t,m,e.input=function(t){n||e(t)})},off:function(t,e){Qe(t,je,e.compositionstart),Qe(t,ze,e.compositionend),Pe(t,m,e.input),e.compositionstart=e.compositionend=e.input=c}};var Ye=function(t){var e=h.querySelector(t);if(e)return e};function qe(t,e,n,r){t.textContent=e}function Ke(t,e,n,r){if(e===c)return t.innerHTML;Be(t,e)}function Be(t,e,n,r){t.innerHTML=e}var Ge=Se,Ze=De;function Je(t,e,n){var r=t.$event||(t.$event=++Oe),o=We[r]||(We[r]={}),i=Ue[r]||(Ue[r]={}),f=i[e]||(i[e]=[]);if(!o[e]){var u=Le[e],s=function(t){var n;j.is(t)?(n=t).type!==e&&(n.type=e):n=new j(e,function(t,e){return t}(t));for(var r=0,o=f.length;r<o;r++)f[r](n,c,a)};o[e]=s,He[r]?He[r]++:He[r]=1,u?u.on(t,s):_e(t,e,s)}f.push(n)}function Qe(t,e,n){var r=t.$event,o=We[r],i=Ue[r],a=i&&i[e];if(a&&(I(a,n),a.length||(a=c,delete i[e])),o&&o[e]&&!a){var f=Le[e],u=o[e];f?f.off(t,u):Pe(t,e,u),delete o[e],He[r]&&He[r]--}He[r]||(t.$event=c,delete We[r],delete Ue[r])}var Xe=Object.freeze({__proto__:null,createElement:function(t,e){return e?h.createElementNS(Re.svg,t):h.createElement(t)},createText:function(t){return h.createTextNode(t)},createComment:Me,prop:function(t,e,n){if(n!==c)Fe(t,e,n);else{var r=Nt(t,e);if(r)return r.value}},setProp:Fe,removeProp:function(t,e){jt(t,e,c)},attr:function(t,e,n){if(n!==c)Ie(t,e,n);else{var r=t.getAttribute(e);if(r!=u)return r}},setAttr:Ie,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:Ve,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:Ye,tag:function(t){if(1===t.nodeType)return vt(t.tagName)},text:function(t,e,n,r){if(e===c)return t.textContent;qe(t,e)},setText:qe,html:Ke,setHtml:Be,addClass:Ge,removeClass:Ze,on:Je,off:Qe,addSpecialEvent:function(t,e){Le[t]=e}}),tn=function(t,e,n,r,o,i,f){var u=this;if(u.keypath=t,u.cache=n,u.deps=r,u.observer=o,u.getter=i,u.setter=f,u.watcherOptions={sync:e,watcher:u.watcher=function(e,n,r){var i=u.value,f=u.get(a);f!==i&&o.diff(t,f,i)}},r){u.fixed=a;for(var c=0,s=r.length;c<s;c++)o.watch(r[c],u.watcherOptions)}};function en(t,e){if(t==u||e===b)return t;var n=Nt(t,e);return n?n.value:void 0}function nn(t,e,n,r,o,i){var f=function(e,n,a){if(n!==a){for(var f=bt(t,e),u=0;u<o;u++){var s=r[u];Et(f,s)!==c&&i(s,f,n,a)}nn(f,n,a,r,o,i)}};(function(t,e,n){var r=O(t),o=O(e);if(r||o)return n("length",r?t.length:c,o?e.length:c),a})(e,n,f)||function(t,e,n){var r=A(t),o=A(e);if(r||o){var i=r?t.length:c,f=o?e.length:c;n("length",i,f);for(var u=0,s=Math.max(i||0,f||0);u<s;u++)n(b+u,r?t[u]:c,o?e[u]:c);return a}}(e,n,f)||function(t,e,n){var r=T(t),o=T(e);if(r||o){var i=J(),f=r?t:x,u=o?e:x;if(r)for(var s in f){var p=f[s];p!==u[s]&&(i.set(s,a),n(s,p,u[s]))}if(o)for(var v in u){var l=u[v];i.get(v)===c&&l!==f[v]&&n(v,f[v],l)}}}(e,n,f)}function rn(t,e,n,r,o,i){var a;for(var f in r)if(wt(f))Et(t,f)!==c?i(f,t,e,n):o&&(a?a.push(f):a=[f]);else{var u=$t(f,t);if(u>=0){var s=at(f,u),p=en(e,s),v=en(n,s);p!==v&&i(f,f,p,v)}}a&&nn(t,e,n,a,a.length,i)}tn.prototype.get=function(t){var e=this,n=e.getter,r=e.deps,o=e.observer,i=e.watcher,a=e.watcherOptions;if(e.cache){if(t||!zt(e,"value"))if(e.fixed)e.value=n();else{if(r)for(var f=r.length-1;f>=0;f--)o.unwatch(r[f],i);e.unique=J();var u=tn.current;tn.current=e,e.value=n();for(var c=e.unique.keys(),s=0,p=c.length;s<p;s++)o.watch(c[s],a);e.deps=c,tn.current=u}}else e.value=n();return e.value},tn.prototype.set=function(t){var e=this.setter;e&&e(t)},tn.prototype.add=function(t){this.unique.set(t,a)};var on={watcher:$};function an(t,e){return E(t)?(on.watcher=t,on.immediate=e===a,on):t}var fn=function(t,e,n){var r=this;r.data=t||{},r.context=e||r,r.nextTask=n||new Bt,r.syncEmitter=new It,r.asyncEmitter=new It,r.asyncOldValues={},r.asyncKeypaths={}};fn.prototype.get=function(t,e,n){var r,o=tn.current,i=this.data,a=this.computed;return t===b?i:(o&&!n&&o.add(t),a&&(r=Nt(a,t)),r||(r=Nt(i,t)),r?r.value:e)},fn.prototype.set=function(t,e){var n=this,r=n.data,o=n.computed,i=function(t,e){var i,a=n.get(t);e!==a&&(kt(t,(function(t,n,a){0!==n?i&&(n===a?i[t]=e:i=i[t]||(i[t]={})):o&&o[t]?0===a?o[t].set(e):i=o[t].get():0===a?r[t]=e:i=r[t]||(r[t]={})})),n.diff(t,e,a))};if(O(t))i(t,e);else if(T(t))for(var a in t)i(a,t[a])},fn.prototype.diff=function(t,e,n){var r=this,o=r.syncEmitter,i=r.asyncEmitter,f=r.asyncOldValues,u=r.asyncKeypaths,c=36!==st(t);rn(t,e,n,o.listeners,c,(function(t,e,n,r){o.fire({type:t,ns:b},[n,r,e])})),rn(t,e,n,i.listeners,c,(function(t,e,n,o){for(var c=i.listeners[t],s=0,p=c.length;s<p;s++)c[s].count++;u[e]||(f[e]=o,u[e]={}),u[e][t]=a,r.pending||(r.pending=a,r.nextTask.append((function(){r.pending&&r.diffAsync()})))}))},fn.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncOldValues,r=t.asyncKeypaths;t.pending=c,t.asyncOldValues={},t.asyncKeypaths={};var o=function(o){var i=[t.get(o),n[o],o],a=r[o],f=i[0]!==i[1],u=function(t,e,n){if(n.count)return n.count--,f};for(var c in a)e.fire({type:c,ns:b},i,u)};for(var i in n)o(i)},fn.prototype.addComputed=function(t,e){var n,r,o,i=this,f=i.context,u=a,c=a;if(E(e))r=e.bind(f);else if(T(e)){var s=e;P(s.cache)&&(u=s.cache),P(s.sync)&&(c=s.sync),K(s.deps)||(n=s.deps),E(s.get)&&(r=s.get.bind(f)),E(s.set)&&(o=s.set.bind(f))}if(r){var p=new tn(t,c,u,n,i,r,o);return i.computed||(i.computed={}),i.computed[t]=p,p}},fn.prototype.removeComputed=function(t){var e=this.computed;e&&zt(e,t)&&delete e[t]},fn.prototype.watch=function(t,e,n){var r=this,o=r.context,i=r.syncEmitter,a=r.asyncEmitter,f=function(t,e){var n=e.sync?i:a,f={ns:b,listener:e.watcher,ctx:o,count:0};e.once&&(f.max=1),n.on(t,f),e.immediate&&N(e.watcher,o,[r.get(t),c,t])};if(O(t))f(t,an(e,n));else for(var u in t)f(u,an(t[u]))},fn.prototype.unwatch=function(t,e){var n={ns:b,listener:e};this.syncEmitter.off(t,n),this.asyncEmitter.off(t,n)},fn.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},fn.prototype.increase=function(t,e,n){var r=Te(this.get(t),0)+(e||1);if(!_(n)||r<=n)return this.set(t,r),r},fn.prototype.decrease=function(t,e,n){var r=Te(this.get(t),0)-(e||1);if(!_(n)||r>=n)return this.set(t,r),r},fn.prototype.insert=function(t,e,n){var r=this.get(t),o=(r=A(r)?r.slice():[]).length;if(n===a||n===o)r.push(e);else if(n===f||0===n)r.unshift(e);else{if(!(n>0&&n<o))return;r.splice(n,0,e)}return this.set(t,r),a},fn.prototype.append=function(t,e){return this.insert(t,e,a)},fn.prototype.prepend=function(t,e){return this.insert(t,e,f)},fn.prototype.removeAt=function(t,e){var n=this.get(t);if(A(n)&&e>=0&&e<n.length)return(n=n.slice()).splice(e,1),this.set(t,n),a},fn.prototype.remove=function(t,e){var n=this.get(t);if(A(n)&&I(n=n.slice(),e))return this.set(t,n),a},fn.prototype.copy=function(t,e){return Dt(t,e)},fn.prototype.destroy=function(){var t=this;t.syncEmitter.off(),t.asyncEmitter.off(),t.nextTask.clear(),_t(t)};var un=function(){this.$emitter=new It};un.prototype.fire=function(t,e,n){this.$emitter.fire(e,[t,n])},un.prototype.on=function(t,e){return this.$emitter.on(t,e),this},un.prototype.off=function(t,e){return this.$emitter.off(t,e),this};var cn={},sn={},pn={},vn={},ln={},dn=/^[#.][-\w+]+$/,hn=new un,mn=function(){this.$isDirty=a},yn=function(n){var r=this,o=n||x;r.$emitter=new It(a),o.events&&r.on(o.events),o.parent&&(r.$parent=o.parent),N(o.beforeCreate,r,o),hn.fire(r,t,{options:o});var i=o.data,f=o.props,u=o.vnode,s=o.propTypes,l=o.computed,d=o.methods,h=o.watchers,m=o.extensions;r.$options=o,m&&Pt(r,m);var y=f?Dt(f):{};s&&Ot(s,(function(t,e){var n=y[e];n===c&&(n=t.value)!==c&&(y[e]=t.type===v?n:E(n)?n():n)}));var g=r.$observer=new fn(y,r,r.$nextTask=new Bt({afterTask:function(){r.$isDirty&&(r.$isDirty=c,r.update(r.render(),r.$vnode))}}));l&&Ot(l,(function(t,e){g.addComputed(e,t)}));var $=E(i)?N(i,r,n):i;T($)&&Ot($,(function(t,e){y[e]=t})),d&&Ot(d,(function(t,e){r[e]=t}));var k=c,w=o.el,C=o.root,A=o.model,_=o.context,P=o.replace,S=o.template,D=o.transitions,j=o.components,z=o.directives,R=o.partials,H=o.filters,W=o.slots;if(A&&(r.$model=A),W&&Pt(y,W),O(S)&&dn.test(S)&&(k=Ye(S))&&(S=Ke(k),k=c),w){if(O(w)){var U=w;dn.test(U)&&(k=Ye(U))}else k=w;P||Ve(k,k=Me(b))}if(C&&(r.$root=C),_&&(r.$context=_),gn(r,"transition",D),gn(r,p,j),gn(r,"directive",z),gn(r,"partial",R),gn(r,"filter",H),S)return h&&g.watch(h),N(r.$options.afterCreate,r),hn.fire(r,e),r.$template=O(S)?yn.compile(S):S,u||(u=function(t,e,n){var r={data:{},node:e,context:n};switch(e.nodeType){case 1:r.tag=t.tag(e);break;case 3:r.isText=a,r.text=e.nodeValue;break;case 8:r.isComment=a,r.text=e.nodeValue}return r}(Xe,k,r)),void r.update(r.render(),u);h&&g.watch(h),N(r.$options.afterCreate,r),hn.fire(r,e)};function gn(t,e,n){E(n)?t[e](N(n,t)):T(n)&&t[e](n)}function $n(t,e,n,r){var o=t.$emitter,i=o.toFilter(e,n),a={listener:i.listener,ns:i.ns,ctx:t};r&&(a.max=1),o.on(i.type,a)}function xn(t,e,n,r){O(e)?$n(t,e,n,r):Ot(e,(function(e,n){$n(t,n,e,r)}))}function kn(t,e,n){if(t&&t[e]){var r=t[e];if(E(r)){t[e]=[n];var o=function(n){var r=t[e],o=n.default||n;t[e]=o,z(r,(function(t){t(o)}))},i=r(o);i&&i.then(o)}else A(r)?U(r,n):n(r);return a}}function bn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function wn(t,e,n,r){O(e)?t[e]=r?r(n):n:Ot(e,(function(e,n){t[n]=r?r(e):e}))}return yn.define=function(t){return t},yn.use=function(t){t.install(yn)},yn.nextTick=function(t,e){Bt.shared().append(t,e)},yn.compile=function(t,e){return t},yn.directive=function(t,e){if(O(t)&&!e)return bn(cn,t);wn(cn,t,e)},yn.transition=function(t,e){if(O(t)&&!e)return bn(sn,t);wn(sn,t,e)},yn.component=function(t,e){if(O(t)&&!e)return bn(pn,t);wn(pn,t,e)},yn.partial=function(t,e){if(O(t)&&!e)return bn(vn,t);wn(vn,t,e,yn.compile)},yn.filter=function(t,e){if(O(t)&&!e)return bn(ln,t);wn(ln,t,e)},yn.prototype.get=function(t,e){return this.$observer.get(t,e)},yn.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},yn.prototype.on=function(t,e){return xn(this,t,e),this},yn.prototype.once=function(t,e){return xn(this,t,e,a),this},yn.prototype.off=function(t,e){return this.$emitter.off(t,e),this},yn.prototype.fire=function(t,e,n){var r,o=this,i=o.$emitter,f=o.$parent,u=o.$children;if(j.is(t))r=t;else if(O(t))r=new j(t);else{var s=t;(r=new j(s.type)).ns=s.ns}if(r.ns===c){var p=i.toEvent(r.type);r.type=p.type,r.ns=p.ns}r.target||(r.target=o);var v,l=[r];return T(e)?U(l,e):e===a&&(n=a),(v=n&&r.target===o?a:i.fire(r,l))&&(n?u&&(r.phase=j.PHASE_DOWNWARD,z(u,(function(t){return v=t.fire(r,e,a)}))):f&&(r.phase=j.PHASE_UPWARD,v=f.fire(r,e))),v},yn.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},yn.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},yn.prototype.loadComponent=function(t,e){kn(this.$components,t,e)||kn(pn,t,e)},yn.prototype.createComponent=function(t,e){var n=this;(t=Dt(t)).root=n.$root||n,t.parent=n,t.context=e.context,t.vnode=e,t.replace=a;var r=e.props,o=e.slots,i=e.model;if(i){r||(r={});var f=t.model||"value";r[f]=i.value,t.model=f}r&&(t.props=r),o&&(t.slots=o);var u=new yn(t);U(n.$children||(n.$children=[]),u);var c=u.$el;return c&&(e.node=c),u},yn.prototype.directive=function(t,e){var n=this.$directives;if(O(t)&&!e)return bn(n,t,yn.directive);wn(n||(this.$directives={}),t,e)},yn.prototype.transition=function(t,e){var n=this.$transitions;if(O(t)&&!e)return bn(n,t,yn.transition);wn(n||(this.$transitions={}),t,e)},yn.prototype.component=function(t,e){var n=this.$components;if(O(t)&&!e)return bn(n,t,yn.component);wn(n||(this.$components={}),t,e)},yn.prototype.partial=function(t,e){var n=this.$partials;if(O(t)&&!e)return bn(n,t,yn.partial);wn(n||(this.$partials={}),t,e,yn.compile)},yn.prototype.filter=function(t,e){var n=this.$filters;if(O(t)&&!e)return bn(n,t,yn.filter);wn(n||(this.$filters={}),t,e)},yn.prototype.forceUpdate=function(t){var e=this,n=e.$options,r=e.$vnode,o=e.$nextTask;r&&(t&&(N(n.beforePropsUpdate,e,t),e.set(t)),o.run(),t||r!==e.$vnode||e.update(e.render(),r))},yn.prototype.render=function(){var t=this,e=t.$observer,n=t.$dependencies,r=n||x,o=function(t,e,n,r,o,i,u,s,p,v,d,h){var m=St(n,r),y=[{scope:m,keypath:""}],g={},$={},x=[],k=function(t,e,n){if(e&&e(t),n){var r=[];n(r),t.children=r}return t},b=function(t,e,n){if(e&&e(t),n){var r={};for(var o in n){var i=[],a=[];n[o](i,a),r[o]=i.length?{vnodes:i,components:a.length?a:c}:c}t.slots=r}return t},w=function(t,e,n,r){if(r)if(t[e])t[e][r]=n;else{var o={};o[r]=n,t[e]=o}else t[e]=n},C=function(t,e){var n=t.length,r=t[n-1];r&&r.isText?r.text+=e.text:t[n]=e},O=function(t,e){return e},_=function(t){return{keypath:t.keypath,value:t.value}},P=function(e,n,r){return function(o,i,a){r&&o.phase===j.PHASE_DOWNWARD||(e===o.type&&n===o.ns||((o=new j(e,a?o.originalEvent:o)).ns=n),t.fire(o,i))}},S=function(e,n,r){return function(o,i){r&&o.phase===j.PHASE_DOWNWARD||N(t[e],t,n?n.args(n.stack,o,i):i?[o,i]:o)===f&&o.prevent().stop()}},D=function(t,e,n,r,o,i,a,f){return i&&(i.stack=y),{key:t,value:e,name:n,ns:r,isNative:f,listener:S(o,i,a),runtime:i}},z=function(t,e,n,r,o,i,a,f){return{key:t,value:e,name:n,ns:r,isNative:f,listener:P(o,i,a)}},R=function(t){return function(){return t.expr(t.stack)}},H=function(e,n){return function(){N(t[e],t,n?n.args(n.stack):c)}},W=function(t,e,n,r,o,i,a){return i&&(i.stack=y),{ns:"o",key:t,name:e,value:r,modifier:n,getter:i&&i.expr?R(i):c,handler:a?H(a,i):c,hooks:o,runtime:i}},U=function(t,e,n){if(T(n))for(var r in n)w(t,e,n[r],r)},L=function(e,n,r){$[e]=a;var o=m[e];if(o){var i=o.vnodes,f=o.components;if(f)for(var u=0,c=f.length;u<c;u++)f[u].parent=t;for(var s=0,p=i.length;s<p;s++)n[n.length]=i[s]}else r&&r()},M=function(t,e,n,r,o,i,a){i?i(e,n,r,o):nt(a,e,n,r,o)},I=function(t,e,n){var r=t.keypath,o=t.value,i=0,a=!!r,f=y,u=F(y).keypath;if(A(o)){i=o.length;for(var c=0;c<i;c++)a&&(u=r+l+c,(y=f.slice()).push({scope:o[c],keypath:u})),e(o[c],u,i,c)}else if(T(o)){var s=Tt(o);i=s.length;for(var p=0;p<i;p++){var v=s[p];a&&(u=r+l+v,(y=f.slice()).push({scope:o[v],keypath:u})),e(o[v],u,i,v)}}y!==f&&(y=f),n&&0===i&&n()},V=function(t,e,n,r,o){var i=0,a=0,f=F(y).keypath;if(t<e)if(a=e-t,n)for(var u=t;u<=e;u++)r(u,f,a,i++);else for(var c=t;c<e;c++)r(c,f,a,i++);else if(a=t-e,n)for(var s=t;s>=e;s--)r(s,f,a,i++);else for(var p=t;p>e;p--)r(p,f,a,i++);o&&0===a&&o()},Y=function(t,e,n,r){var o=t[e],i=bt(o.keypath,n),a=Nt(o.scope,n);a?et(a.value,i):(At.keypath===c&&et(c,i),r&&e>0&&Y(t,e-1,n))},q=function(t,e,n,r,o){var i=r||y;return Y(i,t(i),e,n),At.value===c&&o&&(At.value=o),At},K=function(t,e,n){var r=t[e],o=r.scope,i=r.keypath,a=i?i+l+n:n;n in o?et(o[n],a):e>0&&K(t,e-1,n)},B=function(t,e,n,r){var o=n||y,i=o.length-1,a=o[i].keypath;return et(e,a?a+l+t:t),e===c&&i>0&&K(o,i-1,t),At.value===c&&r&&(At.value=r),At},Z=function(t,e){var n=e||y,r=n[n.length-1].keypath;return et(t,r)},J=function(t,e){var n=e||y,r=n[t(n)],o=r.scope,i=r.keypath;return et(o,i)},Q=function(t,e,n){var r=n||y,o=r[r.length-1].keypath;return et(e,o?o+l+t:t)},X=function(t,e,n){var r=n||y,o=r[t(r)],i=o.scope,a=o.keypath;return et(i[e],a?a+l+e:e)},tt=function(t,e){var n=Nt(t,e);return et(n?n.value:c)},et=function(t,e){return At.keypath=e,At.value=t&&E(t.get)?t.get():t,e!==c&&($[e]=a),At},nt=function(e,n,r,a,f){e(k,b,w,C,O,_,D,z,W,U,L,M,I,V,q,B,Z,J,Q,X,tt,N,et,G,t,o,i,g,u,s,p,v,d,h,n,r,a,f)};return nt(e,m,"",x,[]),{vnode:x[0],dependencies:$}}(t,t.$template,e.data,e.computed,t.$filters,ln,t.$partials,vn,t.$directives,cn,t.$transitions,sn),i=o.vnode,u=o.dependencies;for(var s in u)r[s]||e.watch(s,mn);if(n)for(var p in n)u[p]||e.unwatch(p,mn);return t.$dependencies=u,i},yn.prototype.update=function(t,e){var o,i=this,a=i.$vnode,f=i.$options;a?(N(f.beforeUpdate,i),hn.fire(i,r),Ae(Xe,t,e),o="afterUpdate"):(N(f.beforeMount,i),hn.fire(i,n),Ae(Xe,t,e),i.$el=t.node,o="afterMount"),i.$vnode=t,yn.nextTick((function(){i.$vnode&&(N(f[o],i),hn.fire(i,o))}))},yn.prototype.checkProp=function(t,e){},yn.prototype.destroy=function(){var t=this,e=t.$parent,n=t.$options,r=t.$emitter,a=t.$observer;N(n.beforeDestroy,t),hn.fire(t,o);var f=t.$vnode;e&&e.$children&&I(e.$children,t),f&&(t.$vnode=c,function(t,e,n){if(n){var r=t.parent(e.node);we(t,r,e)}else Ce(t,e)}(Xe,f,!e)),a.destroy(),N(n.afterDestroy,t),hn.fire(t,i),r.off(),_t(t)},yn.prototype.nextTick=function(t){this.$nextTask.append(t,this)},yn.prototype.toggle=function(t){return this.$observer.toggle(t)},yn.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},yn.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},yn.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},yn.prototype.append=function(t,e){return this.$observer.append(t,e)},yn.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},yn.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},yn.prototype.remove=function(t,e){return this.$observer.remove(t,e)},yn.prototype.copy=function(t,e){return this.$observer.copy(t,e)},yn.version="1.0.0-alpha.214",yn.is=D,yn.dom=Xe,yn.array=B,yn.object=Rt,yn.string=ht,yn.logger=Ft,yn.Event=j,yn.Emitter=It,yn.config=C,yn.lifeCycle=hn,yn.filter({hasSlot:function(t){return this.get("$slot_"+t)!==c}}),yn}));
//# sourceMappingURL=yox.min.js.map
