!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Yox=e()}(this,(function(){"use strict";var t="model",e="event",n="binding",r="hook",o="beforeCreate",i="afterCreate",a="beforeMount",u="beforeUpdate",f="beforeDestroy",c="afterDestroy",s=!0,p=!1,v=null,l=void 0,d="undefined",h="component",y="value",m="length",g="function",$=".",x=typeof window!==d?window:l,b=typeof document!==d?document:l,k=typeof global!==d?global:x,w="click",E="input",C="change",_="model",A=function(){},T=Object.freeze({}),O=Object.freeze([]),S="";function P(t){return typeof t===g}function N(t){return Array.isArray(t)}function j(t){return t!==v&&"object"==typeof t}function z(t){return"string"==typeof t}function D(t){return"number"==typeof t&&!isNaN(t)}function L(t){return"boolean"==typeof t}function R(t){return D(t)||z(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var U=Object.freeze({__proto__:null,func:P,array:N,object:j,string:z,number:D,boolean:L,numeric:R});function W(t,e,n){if(P(t))return N(n)?t.apply(e,n):e!==l?t.call(e,n):n!==l?t(n):t()}var I=function(t,e){this.type=t,this.phase=I.PHASE_CURRENT,e&&(this.originalEvent=e)};function M(t,e,n){var r=t.length;if(r)if(n)for(var o=r-1;o>=0&&e(t[o],o)!==p;o--);else for(var i=0;i<r&&e(t[i],i)!==p;i++);}function H(t,e){t[t.length]=e}function F(t,e){t.unshift(e)}function Y(t,e,n){N(e)?M(e,(function(e){n(t,e)})):n(t,e)}function q(t,e){Y(t,e,H)}function B(t,e){Y(t,e,F)}function G(t,e,n){var r=-1;return M(t,(function(t,o){if(n===p?t==e:t===e)return r=o,p})),r}function V(t){var e=t.length;if(e>0)return t[e-1]}function X(t){if(t.length>0)return t.pop()}function Z(t,e,n){var r=0;return M(t,(function(o,i){(n===p?o==e:o===e)&&(t.splice(i,1),r++)}),s),r}function J(t,e,n){return G(t,e,n)>=0}function K(t){return N(t)?t:W(O.slice,t)}function Q(t,e){return t.join(e)}function tt(t){return!N(t)||!t.length}I.is=function(t){return t instanceof I},I.prototype.preventDefault=function(){var t=this;if(!t.isPrevented){var e=t.originalEvent;e&&e.preventDefault(),t.isPrevented=s}return t},I.prototype.stopPropagation=function(){var t=this;if(!t.isStoped){var e=t.originalEvent;e&&e.stopPropagation(),t.isStoped=s}return t},I.prototype.prevent=function(){return this.preventDefault()},I.prototype.stop=function(){return this.stopPropagation()},I.PHASE_CURRENT=0,I.PHASE_UPWARD=1,I.PHASE_DOWNWARD=-1;var et=Object.freeze({__proto__:null,each:M,push:q,unshift:B,indexOf:G,last:V,pop:X,remove:Z,has:J,toArray:K,toObject:function(t,e,n){var r={};return M(t,(function(t){r[e?t[e]:t]=n||t})),r},join:Q,falsy:tt}),nt=/-([a-z])/gi,rt=/\B([A-Z])/g,ot=/^[a-z]/,it={},at={},ut={};function ft(t,e,n){return D(n)?e===n?S:t.slice(e,n):t.slice(e)}function ct(t,e,n){return t.indexOf(e,n!==l?n:0)}function st(t,e,n){return t.lastIndexOf(e,n!==l?n:t.length)}function pt(t,e){return 0===ct(t,e)}function vt(t,e){return t.charCodeAt(e||0)}function lt(t){return t.toUpperCase()}function dt(t){return t.toLowerCase()}function ht(t,e){return ct(t,e)>=0}function yt(t){return!z(t)||!t.length}var mt=Object.freeze({__proto__:null,camelize:function(t){return it[t]||(it[t]=t.replace(nt,(function(t,e){return lt(e)}))),it[t]},hyphenate:function(t){return at[t]||(at[t]=t.replace(rt,(function(t,e){return"-"+dt(e)}))),at[t]},capitalize:function(t){return ut[t]||(ut[t]=t.replace(ot,lt)),ut[t]},trim:function(t){return yt(t)?S:t.trim()},slice:ft,indexOf:ct,lastIndexOf:st,startsWith:pt,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&st(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:vt,upper:lt,lower:dt,has:ht,falsy:yt}),gt=/\./g,$t=/\*/g,xt=/\*\*/g,bt={},kt={};function wt(t,e){var n;N(bt[t])?n=bt[t]:(n=ct(t,$)<0?[t]:t.split($),bt[t]=n);for(var r=0,o=n.length-1;r<=o&&e(n[r],r,o)!==p;r++);}function Et(t,e){return t&&e?t+$+e:t||e}function Ct(t){return ht(t,"*")}function _t(t,e){var n=kt[e];if(!n){var r=e.replace(gt,"\\.").replace($t,"(\\w+)").replace(xt,"([.\\w]+?)");n=kt[e]=new RegExp("^"+r+"$")}var o=t.match(n);if(o)return o[1]}var At={value:l};function Tt(t){return Object.keys(t)}function Ot(t,e){for(var n in t)if(e(t[n],n)===p)break}function St(t){Ot(t,(function(e,n){delete t[n]}))}function Pt(t,e){return Ot(e,(function(e,n){t[n]=e})),t}function Nt(t,e){return t&&e?Pt(Pt({},t),e):t||e}function jt(t,e){var n=t;return N(t)?e?(n=[],M(t,(function(t,r){n[r]=jt(t,e)}))):n=t.slice():j(t)&&(n={},Ot(t,(function(t,r){n[r]=e?jt(t,e):t}))),n}function zt(t,e){return wt(e,(function(e,n,r){if(t==v)return t=l,p;var o=t[e],i=o!==l;o&&P(o.get)&&(o=o.get()),n===r?i?(At.value=o,t=At):t=l:t=o})),t}function Dt(t,e,n,r){wt(e,(function(e,o,i){if(o===i)t[e]=n;else if(t[e])t=t[e];else{if(!r)return p;t=t[e]={}}}))}function Lt(t,e){return t[e]!==l}function Rt(t){return!j(t)||N(t)||!Tt(t).length}var Ut=Object.freeze({__proto__:null,keys:Tt,each:Ot,clear:St,extend:Pt,merge:Nt,copy:jt,get:zt,set:Dt,has:Lt,falsy:Rt});function Wt(t,e){return t!=v&&t.toString?t.toString():e!==l?e:S}var It=typeof console!==d?console:v,Mt=/yox/.test(Wt(A))?2:3,Ht=x&&/edge|msie|trident/i.test(x.navigator.userAgent)?S:"%c",Ft=It?Ht?function(t,e,n){It.log(Ht+t,n,e)}:function(t,e){It.log(t,e)}:A;function Yt(){if(k){var t=k.YOX_LOG_LEVEL;if(t>=1&&t<=5)return t}return Mt}function qt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var Bt=Object.freeze({__proto__:null,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5,debug:function(t,e){Yt()<=1&&Ft(e||"Yox debug",t,qt("#999"))},info:function(t,e){Yt()<=2&&Ft(e||"Yox info",t,qt("#2db7f5"))},warn:function(t,e){Yt()<=3&&Ft(e||"Yox warn",t,qt("#f90"))},error:function(t,e){Yt()<=4&&Ft(e||"Yox error",t,qt("#ed4014"))},fatal:function(t,e){if(Yt()<=5)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),Gt=function(t){this.ns=t||p,this.listeners={}};function Vt(t,e){return t?t===e.listener:s}function Xt(t,e){var n=e.ns;return n&&t?n===t:s}function Zt(t){return P(t)&&ht(Wt(t),"[native code]")}Gt.prototype.fire=function(t,e,n){var r=this,o=z(t)?r.toEvent(t):t,i=r.listeners[o.type],a=s;if(i){i=i.slice();for(var u=e&&I.is(e[0])?e[0]:l,f=0,c=i.length;f<c;f++){var v=i[f];if(Xt(o.ns,v)&&J(i,v)&&(!n||n(o,e,v))){u&&(u.listener=v.listener);var d=W(v.listener,v.ctx,e);if(u&&(u.listener=l),v.num=v.num?v.num+1:1,v.num===v.max&&r.off(o.type,{ns:o.ns,listener:v.listener}),u&&(d===p?u.prevent().stop():u.isStoped&&(d=p)),d===p){a=p;break}}}}return a},Gt.prototype.on=function(t,e){var n=this.listeners,r=P(e)?{listener:e}:e;if(j(r)&&P(r.listener)){if(!z(r.ns)){var o=this.toEvent(t);r.ns=o.ns,t=o.type}q(n[t]||(n[t]=[]),r)}},Gt.prototype.off=function(t,e){var n=this,r=n.listeners;if(t){var o=n.toFilter(t,e),i=function(t,e){M(t,(function(e,n){Vt(o.listener,e)&&Xt(o.ns,e)&&t.splice(n,1)}),s),t.length||delete r[e]};o.type?r[o.type]&&i(r[o.type],o.type):o.ns&&Ot(r,i)}else n.listeners={}},Gt.prototype.has=function(t,e){var n=this.listeners,r=this.toFilter(t,e),o=s,i=function(t){return M(t,(function(t){if(Vt(r.listener,t)&&Xt(r.ns,t))return o=p})),o};return r.type?n[r.type]&&i(n[r.type]):r.ns&&Ot(n,i),!o},Gt.prototype.toEvent=function(t){var e={type:t,ns:S};if(this.ns){var n=ct(t,$);n>=0&&(e.type=ft(t,0,n),e.ns=ft(t,n+1))}return e},Gt.prototype.toFilter=function(t,e){var n;if(z((n=e?P(e)?{listener:e}:e:{}).ns))n.type=t;else{var r=this.toEvent(t);n.type=r.type,n.ns=r.ns}return n},typeof setImmediate===g&&Zt(setImmediate)&&setImmediate;var Jt,Kt=typeof MessageChannel===g&&Zt(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,Qt=function(){this.tasks=[]};Qt.shared=function(){return Jt||(Jt=new Qt)},Qt.prototype.append=function(t,e){var n=this,r=n.tasks;q(r,{fn:t,ctx:e}),1===r.length&&Kt((function(){n.run()}))},Qt.prototype.prepend=function(t,e){var n=this,r=n.tasks;B(r,{fn:t,ctx:e}),1===r.length&&Kt((function(){n.run()}))},Qt.prototype.clear=function(){this.tasks.length=0},Qt.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],M(t,(function(t){W(t.fn,t.ctx)})))};var te="$loading";function ee(t,e,n){var r=e.node,o=e.nativeAttrs,i=n&&n.nativeAttrs;if(o||i){var a=o||T,u=i||T;for(var f in a)u[f]!==l&&a[f]===u[f]||t.attr(r,f,a[f]);for(var c in u)a[c]===l&&t.removeAttr(r,c)}}function ne(t,e,n){var r=e.node,o=e.nativeProps,i=n&&n.nativeProps;if(o||i){var a=o||T,u=i||T;for(var f in a)u[f]!==l&&a[f]===u[f]||t.prop(r,f,a[f]);for(var c in u)a[c]===l&&t.removeProp(r,c)}}function re(t,e){var n=t.data,r=t.directives,o=e&&e.directives;if(r||o){var i=n.$component||t.node,a=e&&t.keypath!==e.keypath,u=r||T,f=o||T;for(var c in u){var s=u[c],p=s.hooks,v=p.once,l=p.bind,d=p.unbind;f[c]?(v||s.value!==f[c].value||a)&&(d&&d(i,f[c],e),l(i,s,t)):l(i,s,t)}for(var h in f)if(!u[h]){var y=f[h].hooks.unbind;y&&y(i,f[h],e)}}}function oe(t){var e=t.directives;if(e){var n=t.data.$component||t.node;for(var r in e){var o=e[r].hooks.unbind;o&&o(n,e[r],t)}}}function ie(t,e){var n,r=t.data,o=t.ref,i=t.props,a=t.slots,u=t.directives,f=t.context;if(t.isComponent){if(n=r.$component,e){var c=u&&u.model;c&&(i||(i={}),i[n.$model]=c.value);var s=Nt(i,a);s&&n.forceUpdate(s)}}else n=t.node;if(o){var p=f.$refs;p&&(p[o]=n)}}function ae(t,e){return t.tag===e.tag&&t.key===e.key}function ue(t,e,n){for(var r,o,i;e<=n;)(o=t[e])&&(i=o.key)&&(r||(r={}),r[i]=e),e++;return r||T}function fe(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function ce(t,e){var n=(t.parent||t.context).createComponent(e,t);return t.data.$component=n,t.data.$loading=p,re(t),ie(t),n}var se=0;function pe(){var t={};return t.$id=++se,t}function ve(t,e){var n=e.tag,r=e.node,o=e.data,i=e.isComponent,a=e.isComment,u=e.isText,f=e.isStyle,c=e.isOption,p=e.children,v=e.text,d=e.html,y=e.context;if(!r||!o)if(o=pe(),e.data=o,u)e.node=t.createText(v);else if(a)e.node=t.createComment(v);else if(i){var m=l;n&&y.loadComponent(n,(function(t){Lt(o,te)?o.$loading&&(o.$vnode&&(e=o.$vnode,delete o.$vnode),ge(e,ce(e,t))):m=t})),e.node=t.createComment(h),m?ce(e,m):o.$loading=s}else r=e.node=t.createElement(e.tag,e.isSvg),p?le(t,r,p):v?t.text(r,v,f,c):d&&t.html(r,d,f,c),ee(t,e),ne(t,e),re(e),ie(e)}function le(t,e,n,r,o,i){for(var a,u=r||0,f=o!==l?o:n.length-1;u<=f;)ve(t,a=n[u]),de(t,e,a,i),u++}function de(t,e,n,r){var o=n.node,i=n.data,a=n.context,u=t.parent(o);if(r?t.before(e,o,r.node):t.append(e,o),!u){var f=l;if(n.isComponent){var c=i.$component;c&&(f=function(){ge(n,c)})}else n.isStatic||n.isText||n.isComment||(f=function(){ge(n)});f&&a.$observer.nextTask.prepend(f)}}function he(t,e,n,r,o){for(var i,a=r||0,u=o!==l?o:n.length-1;a<=u;)(i=n[a])&&ye(t,e,i),a++}function ye(t,e,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var o,i=function(){me(t,n),t.remove(e,r)};if(n.isComponent&&!(o=n.data.$component))return void i();!function(t,e,n){var r=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var i=o.leave;if(i)return void i(t.node,r.$leaving=function(){r.$leaving&&(n(),r.$leaving=l)})}n()}(n,o,i)}}function me(t,e){var n=e.data,r=e.children,o=e.parent,i=e.slot;if(i&&o&&o.$vnode){var a=o.get(i);if(a&&J(a,e))return}if(e.isComponent){var u=n.$component;u?(oe(e),u.destroy()):n.$loading=p}else oe(e),r&&M(r,(function(e){me(t,e)}))}function ge(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),W(n.$leaving),r){var o=r.enter;if(o)return void o(t.node)}}function $e(t,e,n){if(e!==n){var r=n.node,o=n.data;if(!ae(e,n)){var i=t.parent(r);return ve(t,e),void(i&&(de(t,i,e,n),ye(t,i,n)))}if(e.node=r,e.data=o,n.isComponent&&o.$loading)o.$vnode=e;else{ee(t,e,n),ne(t,e,n),re(e,n),ie(e,n);var a=e.text,u=e.html,f=e.children,c=e.isStyle,s=e.isOption,p=n.text,v=n.html,d=n.children;z(a)?a!==p&&t.text(r,a,c,s):z(u)?u!==v&&t.html(r,u,c,s):f&&d?f!==d&&function(t,e,n,r){for(var o,i,a=0,u=n.length-1,f=n[a],c=n[u],s=0,p=r.length-1,v=r[s],d=r[p];s<=p&&a<=u;)f?c?v?d?ae(f,v)?($e(t,f,v),f=n[++a],v=r[++s]):ae(c,d)?($e(t,c,d),c=n[--u],d=r[--p]):ae(c,v)?($e(t,c,v),fe(t,e,v.node,t.next(d.node)),c=n[--u],v=r[++s]):ae(f,d)?($e(t,f,d),fe(t,e,d.node,v.node),f=n[++a],d=r[--p]):(o||(o=ue(r,s,p)),(i=f.key?o[f.key]:l)!==l?($e(t,f,r[i]),r[i]=l):ve(t,f),de(t,e,f,v),f=n[++a]):d=r[--p]:v=r[++s]:c=n[--u]:f=n[++a];s>p?le(t,e,n,a,u,n[u+1]):a>u&&he(t,e,r,s,p)}(t,r,f,d):f?((z(p)||z(v))&&t.text(r,S,c),le(t,r,f)):d?he(t,r,d):(z(p)||z(v))&&t.text(r,S,c)}}}function xe(t,e){return R(t)?+t:e!==l?e:0}function be(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var ke="directives";function we(r,o,i,a,u,f,c){var p,d={$keypath:S},h=[d],y=[],m=[],g={},x=function(t,e,n,r,i,u){var f=t[e],c=Et(f.$keypath,n),s=t,p=At;if(u===l&&(u=c),f[n]!==l?s=f[n]:f.$item!==l&&(f=f.$item,n===S?s=f:f!=v&&f[n]!==l&&(s=f[n])),s===t&&(s=o.get(c,t,i))===t){if(r&&e>0)return x(t,e-1,n,r,i,u);var d=zt(a,n);return d?(p=d).keypath=n:(p.value=l,p.keypath=u),p}return p.value=s,p.keypath=c,p},b=function(t,e,n){return function(o,i){var a=r[t];if(I.is(o)){var u=l;if(e){var f=V(n);f&&(f.$event=o,f.$data=i,u=W(a,r,e(n)),f.$event=f.$data=l)}else u=W(a,r,i?[o,i]:o);return u}W(a,r,e?e(n):l)}},k=function(t,e){return function(){return t(e)}},w=function(t){var e=V(y);if(e){var n=Wt(t),o=V(e);if(o&&o.isText)o.text+=n;else q(e,{tag:"#",isText:s,text:n,context:r,keypath:d.$keypath})}},E=function(t,e){be(p,p.isComponent?"props":"nativeAttrs",t,e)},C=function(t,e){be(p,"nativeProps",t,e)},_=function(t,e){be(p,"lazy",t,e)},A=function(t){p.transition=c[t]},T=function(t,e,r){var o=Et(n,t);return be(p,ke,o,{ns:n,name:t,key:o,modifier:e.keypath,hooks:f.binding,hint:r}),e.value},O=function(e){be(p,ke,t,{ns:t,name:S,key:t,value:e.value,modifier:e.keypath,hooks:f.model})},P=function(t,n,r,o,i,a){be(p,ke,n,{ns:e,name:t,key:n,value:o,modifier:r,hooks:f.event,handler:b(i,a,h)})},z=function(t,n,o,i,a){var u;be(p,ke,n,{ns:e,name:t,key:n,value:i,modifier:o,hooks:f.event,handler:(u=a,function(t,e){u!==t.type&&(t=new I(u,t)),r.fire(t,e)})})},D=function(t,e,n,r,o,i,a){var u=f[t];be(p,ke,e,{ns:"o",name:t,key:e,value:r,hooks:u,modifier:n,getter:a?k(a,h):l,handler:o?b(o,i,h):l})},L=function(t){var e=t.value,r=t.keypath;if(j(e)){for(var o in e)be(p,"props",o,e[o]);if(r){var i=Et(n,r);be(p,ke,i,{ns:n,name:S,key:i,modifier:Et(r,"*"),hooks:f.binding})}}},R=function(t){var e=V(y);return e&&q(e,t),t},U=function(){return R({tag:"!",isComment:s,text:S,keypath:d.$keypath,context:r})},M=function(t,e,n,o,i,a,u,f,c,s){var v={tag:t,isStatic:o,isOption:i,isStyle:a,isSvg:u,ref:c,key:s,context:r,keypath:d.$keypath};return f!==l&&(v.html=Wt(f)),e&&(p=v,e(),p=l),n&&(y.push(v.children=[]),n(),X(y)),R(v)},H=function(t,e,n,o,i){var a={tag:t,ref:o,key:i,context:r,keypath:d.$keypath,isComponent:s},u=V(m);if(u&&q(u,a),e&&(p=a,e(),p=l),n){var f={};for(var c in n){y.push([]),m.push([]),n[c]();var v=X(y),h=X(m);v.length?f[c]={vnodes:v,components:h}:f[c]=l}a.slots=f}return R(a)},F=function(t,e,n,r,o,i){var a=i||h,u=a.length-1;n&&(u-=n);var f=x(a,u,t,e,o);return r?f:f.value},Y=function(t,e){return B(e,t),Q(e,$)},G=function(t,e,n,r){n!==l&&(e=Q(n,$));var o=zt(t,e);return At.keypath=l,At.value=o?o.value:l,r?At:At.value},Z=function(t,e,n){return At.keypath=l,At.value=W(t,r,e||l),n?At:At.value},J=function(t,e){var n=V(y),o=r.get(t);if(n)if(o){for(var i=o.vnodes,a=o.components,u=0,f=i.length;u<f;u++)q(n,i[u]),i[u].slot=t;for(var c=0,s=a.length;c<s;c++)a[c].parent=r}else e&&e()},K=function(t,e){g[t]=e},tt=function(t){if(g[t])g[t]();else{var e=u[t];e&&e(F,Y,G,Z,w,E,C,_,A,T,O,P,z,D,L,U,M,H,J,K,tt,nt,rt,ot)}},et=function(t,e,n,r,o,i){var a=d,u=h;d={$keypath:r},h=u.concat(d),i!==l&&(d.$length=i),o&&(d[o]=n),r||(d.$item=e),t(),d=a,h=u},nt=function(t,e,n){var r=e.keypath,o=e.value;if(N(o))for(var i=0,a=o.length;i<a;i++)et(t,o[i],i,r?Et(r,S+i):S,n,a);else if(j(o))for(var u in o)et(t,o[u],u,r?Et(r,u):S,n)},rt=function(t,e,n,r){var o=0;if(e<n)for(var i=e;i<n;i++)et(t,i,o++,S,r);else for(var a=e;a>n;a--)et(t,a,o++,S,r)},ot=function(t,e,n,r){var o=0;if(e<n)for(var i=e;i<=n;i++)et(t,i,o++,S,r);else for(var a=e;a>=n;a--)et(t,a,o++,S,r)};return i(F,Y,G,Z,w,E,C,_,A,T,O,P,z,D,L,U,M,H,J,K,tt,nt,rt,ot)}var Ee=0,Ce="textContent",_e=function(t,e){return t},Ae=function(t){var e=b.querySelector(t);if(e)return e},Te=function(t,e,n){t.addEventListener(e,n,p)},Oe=function(t,e,n){t.removeEventListener(e,n,p)},Se=function(t,e){t.classList.add(e)},Pe=function(t,e){t.classList.remove(e)};if(b&&(b.documentElement.classList||(Se=function(t,e){var n=t.className.split(De);J(n,e)||(q(n,e),t.className=Q(n,De))},Pe=function(t,e){var n=t.className.split(De);Z(n,e)&&(t.className=Q(n,De))}),!b.addEventListener)){var Ne="propertychange",je=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},ze=function(t,e){Pt(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t};ze.prototype.preventDefault=function(){this.originalEvent.returnValue=p},ze.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=s},Ce="data",_e=function(t,e){return new ze(t,e)},Ae=function(t){35===vt(t,0)&&(t=ft(t,1));var e=b.getElementById(t);if(e)return e},Te=function(t,e,n){e===E?Te(t,Ne,n[Le]=function(e){e.propertyName===y&&W(n,this,new I(E,_e(e,t)))}):e===C&&je(t)?Te(t,w,n[Le]=function(e){W(n,this,new I(C,_e(e,t)))}):t.attachEvent("on"+e,n)},Oe=function(t,e,n){e===E?(Oe(t,Ne,n[Le]),delete n[Le]):e===C&&je(t)?(Oe(t,w,n[Le]),delete n[Le]):t.detachEvent("on"+e,n)}}var De=" ",Le="$emitter",Re="styleSheet",Ue="compositionstart",We="compositionend",Ie={svg:"http://www.w3.org/2000/svg"},Me={},He={};function Fe(t){return b.createComment(t)}function Ye(t,e,n){if(n!==l)Dt(t,e,n,p);else{var r=zt(t,e);if(r)return r.value}}function qe(t,e,n){if(n!==l)t.setAttribute(e,n);else{var r=t.getAttribute(e);if(r!=v)return r}}function Be(t,e){t.appendChild(e)}He.model={on:function(t,e){var n=p;Je(t,Ue,e.compositionstart=function(){n=s}),Je(t,We,e.compositionend=function(t){n=p,e(t)}),Te(t,E,e.input=function(t){n||e(t)})},off:function(t,e){Ke(t,Ue,e.compositionstart),Ke(t,We,e.compositionend),Oe(t,E,e.input),e.compositionstart=e.compositionend=e.input=l}};var Ge=Ae;function Ve(t,e,n,r){if(e===l)return t.innerHTML;n&&Lt(t,Re)?t.styleSheet.cssText=e:(r&&(t.value=e),t.innerHTML=e)}var Xe=Se,Ze=Pe;function Je(t,e,n,r){var o=t[Le]||(t[Le]=++Ee),i=Me[o]||(Me[o]=new Gt),a=i.nativeListeners||(i.nativeListeners={});if(!a[e]){var u=He[e],f=function(n){var r=I.is(n)?n:new I(n.type,_e(n,t));r.type!==e&&(r.type=e),i.fire({type:e,ns:S},[r])};a[e]=f,u?u.on(t,f):Te(t,e,f)}i.on(e,{ns:S,listener:n,ctx:r})}function Ke(t,e,n){var r=t[Le],o=Me[r],i=o.listeners,a=o.nativeListeners;if(o.off(e,{ns:S,listener:n}),a&&!o.has(e)){var u=He[e],f=a[e];u?u.off(t,f):Oe(t,e,f),delete a[e]}Me[r]&&Rt(i)&&(t[Le]=l,delete Me[r])}var Qe=Object.freeze({__proto__:null,createElement:function(t,e){return e?b.createElementNS(Ie.svg,t):b.createElement(t)},createText:function(t){return b.createTextNode(t)},createComment:Fe,prop:Ye,removeProp:function(t,e){Dt(t,e,l)},attr:qe,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:Be,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:Ge,tag:function(t){if(1===t.nodeType)return dt(t.tagName)},text:function(t,e,n,r){if(e===l)return t[Ce];n&&Lt(t,Re)?t.styleSheet.cssText=e:(r&&(t.value=e),t[Ce]=e)},html:Ve,addClass:Xe,removeClass:Ze,on:Je,off:Ke,addSpecialEvent:function(t,e){He[t]=e}}),tn=function(t,e,n,r,o,i,a){var u=this;u.keypath=t,u.cache=n,u.deps=r,u.context=o.context,u.observer=o,u.getter=i,u.setter=a,u.unique={},u.watcher=function(e,n,r){var i=u.value,a=u.get(s);a!==i&&o.diff(t,a,i)},u.watcherOptions={sync:e,watcher:u.watcher},(u.fixed=!tt(r))&&M(r,(function(t){o.watch(t,u.watcherOptions)}))};function en(t,e){if(t==v||e===S)return t;var n=zt(t,e);return n?n.value:void 0}function nn(t,e,n,r,o){var i=function(e,n,i){if(n!==i){var a=Et(t,e);M(r,(function(t){_t(a,t)!==l&&o(t,a,n,i)})),nn(a,n,i,r,o)}};(function(t,e,n){var r=z(t),o=z(e);if(r||o)return n(m,r?t.length:l,o?e.length:l),s})(e,n,i)||function(t,e,n){var r=N(t),o=N(e);if(r||o){var i=r?t.length:l,a=o?e.length:l;n(m,i,a);for(var u=0,f=Math.max(i||0,a||0);u<f;u++)n(""+u,t?t[u]:l,e?e[u]:l);return s}}(e,n,i)||function(t,e,n){var r=j(t),o=j(e);(r||o)&&(t=r?t:T,e=o?e:T,r&&Ot(t,(function(t,r){t!==e[r]&&n(r,t,e[r])})),o&&Ot(e,(function(e,r){e!==t[r]&&n(r,t[r],e)})))}(e,n,i)}function rn(t,e,n,r,o,i){var a;Ot(r,(function(r,u){if(Ct(u))_t(t,u)!==l?i(u,t,e,n):o&&(a?q(a,u):a=[u]);else{var f=function(t,e){return t===e||pt(t,e+=$)?e.length:-1}(u,t);if(f>=0){var c=ft(u,f),s=en(e,c),p=en(n,c);s!==p&&i(u,u,s,p)}}})),a&&nn(t,e,n,a,i)}function on(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}tn.prototype.get=function(t){var e=this,n=e.getter,r=e.context;if(e.cache){if(t||!Lt(e,y))if(e.fixed)e.value=W(n,r);else{e.unbind();var o=tn.current;tn.current=e,e.value=W(n,r),e.bind(),tn.current=o}}else e.value=W(n,r);return e.value},tn.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},tn.prototype.add=function(t){this.unique[t]=s},tn.prototype.bind=function(){var t=this,e=t.unique,n=t.deps,r=t.observer,o=t.watcherOptions;Ot(e,(function(t,e){q(n,e),r.watch(e,o)})),this.unique={}},tn.prototype.unbind=function(){var t=this,e=t.deps,n=t.observer,r=t.watcher;M(e,(function(t){n.unwatch(t,r)}),s),e.length=0};var an={watcher:A};function un(t,e){return P(t)?(an.watcher=t,an.immediate=e===s,an):t&&t.watcher?t:void 0}var fn=function(t,e){var n=this;n.data=t||{},n.context=e||n,n.nextTask=new Qt,n.syncEmitter=new Gt,n.asyncEmitter=new Gt,n.asyncChanges={}};function cn(t,e,n){var r;return function(){if(!r){var o=K(arguments);n&&W(t,l,o),r=setTimeout((function(){r=l,n||W(t,l,o)}),e)}}}fn.prototype.get=function(t,e,n){var r,o=tn.current,i=this.data,a=this.computed;return t===S?i:(o&&!n&&o.add(t),a&&(r=zt(a,t)),r||(r=zt(i,t)),r?r.value:e)},fn.prototype.set=function(t,e){var n=this,r=n.data,o=n.computed,i=function(t,e){var i,a=n.get(e);t!==a&&(wt(e,(function(e,n,a){0!==n?i&&(n===a?i[e]=t:i=i[e]||(i[e]={})):o&&o[e]?0===a?o[e].set(t):i=o[e].get():0===a?r[e]=t:i=r[e]||(r[e]={})})),n.diff(e,t,a))};z(t)?i(e,t):j(t)&&Ot(t,i)},fn.prototype.diff=function(t,e,n){var r=this,o=r.syncEmitter,i=r.asyncEmitter,a=r.asyncChanges,u=36!==vt(t);rn(t,e,n,o.listeners,u,(function(t,e,n,r){o.fire({type:t,ns:S},[n,r,e])})),rn(t,e,n,i.listeners,u,(function(t,e,n,o){M(i.listeners[t],(function(t){t.count++}));var u=(a[e]||(a[e]={value:o,keypaths:[]})).keypaths;J(u,t)||q(u,t),r.pending||(r.pending=s,r.nextTask.append((function(){r.pending&&(r.pending=l,r.diffAsync())})))}))},fn.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Ot(n,(function(n,r){var o=[t.get(r),n.value,r];M(n.keypaths,(function(t){e.fire({type:t,ns:S},o,on)}))}))},fn.prototype.addComputed=function(t,e){var n,r,o=s,i=s,a=[];if(P(e))n=e;else if(j(e)){var u=e;L(u.cache)&&(o=u.cache),L(u.sync)&&(i=u.sync),N(u.deps)&&(a=jt(u.deps)),P(u.get)&&(n=u.get),P(u.set)&&(r=u.set)}if(n){var f=this,c=new tn(t,i,o,a,f,n,r);return f.computed||(f.computed={}),f.computed[t]=c,c}},fn.prototype.removeComputed=function(t){var e=this.computed;e&&Lt(e,t)&&delete e[t]},fn.prototype.watch=function(t,e,n){var r=this,o=r.context,i=r.syncEmitter,a=r.asyncEmitter,u=function(t,e){var n=e.sync?i:a,u={ns:S,listener:e.watcher,ctx:o,count:0};e.once&&(u.max=1),n.on(t,u),e.immediate&&W(e.watcher,o,[r.get(t),l,t])};z(t)?u(t,un(e,n)):Ot(t,(function(t,e){u(e,un(t))}))},fn.prototype.unwatch=function(t,e){var n={ns:S,listener:e};this.syncEmitter.off(t,n),this.asyncEmitter.off(t,n)},fn.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},fn.prototype.increase=function(t,e,n){var r=xe(this.get(t),0)+(e||1);if(!D(n)||r<=n)return this.set(t,r),r},fn.prototype.decrease=function(t,e,n){var r=xe(this.get(t),0)-(e||1);if(!D(n)||r>=n)return this.set(t,r),r},fn.prototype.insert=function(t,e,n){var r=this.get(t),o=(r=N(r)?jt(r):[]).length;if(n===s||n===o)r.push(e);else if(n===p||0===n)r.unshift(e);else{if(!(n>0&&n<o))return;r.splice(n,0,e)}return this.set(t,r),s},fn.prototype.append=function(t,e){return this.insert(t,e,s)},fn.prototype.prepend=function(t,e){return this.insert(t,e,p)},fn.prototype.removeAt=function(t,e){var n=this.get(t);if(N(n)&&e>=0&&e<n.length)return(n=jt(n)).splice(e,1),this.set(t,n),s},fn.prototype.remove=function(t,e){var n=this.get(t);if(N(n)&&Z(n=jt(n),e))return this.set(t,n),s},fn.prototype.copy=function(t,e){return jt(t,e)},fn.prototype.destroy=function(){var t=this;t.syncEmitter.off(),t.asyncEmitter.off(),t.nextTask.clear(),St(t)};var sn=Object.freeze({__proto__:null,bind:function(t,e,n){var r=e.key,o=e.name,i=e.modifier,a=e.handler,u=n.lazy;if(a){if(u){var f=u[o]||u[""];f===s?o=C:f>0&&(a=cn(a,f,o===w||"tap"===o))}var c;if(n.isComponent){var p=t;if("native"===i)Je(c=p.$el,o,a),n.data[r]=function(){Ke(c,o,a)};else{var v={ns:i||S,listener:function(t,e){if(t.phase!==I.PHASE_DOWNWARD)return a(t,e)}};p.on(o,v),n.data[r]=function(){p.off(o,v)}}}else Je(c=t,o,a),n.data[r]=function(){Ke(c,o,a)}}},unbind:function(t,e,n){W(n.data[e.key])}});function pn(t,e){return e&&e!==s?cn(t,e):t}var vn={set:function(t,e){t.value=Wt(e)},sync:function(t,e,n){n.set(e,t.value)},name:y},ln={set:function(t,e){t.checked=t.value===Wt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},dn={set:function(t,e){t.checked=N(e)?J(e,t.value,p):!!e},sync:function(t,e,n){var r=n.get(e);N(r)?t.checked?n.append(e,t.value):n.removeAt(e,G(r,t.value,p)):n.set(e,t.checked)},name:"checked"},hn={set:function(t,e){M(K(t.options),t.multiple?function(t){t.selected=J(e,t.value,p)}:function(n,r){if(n.value==e)return t.selectedIndex=r,p})},sync:function(t,e,n){var r=t.options;if(t.multiple){var o=[];M(K(r),(function(t){t.selected&&q(o,t.value)})),n.set(e,o)}else n.set(e,r[t.selectedIndex].value)},name:y};var yn=Object.freeze({__proto__:null,once:true,bind:function(t,e,n){var r,o,i=n.context,a=n.lazy,u=n.isComponent,f=e.modifier,c=a&&(a.model||a[""]);if(u){var p=t,v=p.$model,d=pn((function(t){i.set(f,t)}),c);r=function(t){r&&p.set(v,t)},o=function(){p.unwatch(v,d)},p.watch(v,d)}else{var h=t,y="select"===n.tag?hn:vn,m=C;if(y===vn){var g=t.type;"radio"===g?y=ln:"checkbox"===g?y=dn:c!==s&&(m=_)}r=function(t){r&&y.set(h,t)};var $=pn((function(){y.sync(h,f,i)}),c);o=function(){Ke(h,m,$)},Je(h,m,$),y.set(h,e.value)}i.watch(f,r),n.data[e.key]=function(){i.unwatch(f,r),r=l,o()}},unbind:function(t,e,n){W(n.data[e.key])}});var mn=Object.freeze({__proto__:null,once:true,bind:function(t,e,n){var r=e.modifier,o=Ct(r),i=function(a,u,f){if(i){var c=o?_t(f,r):e.name;if(n.isComponent){var s=t;s.checkProp(c,a),s.set(c,a)}else{var p=t;e.hint!==l?Ye(p,c,a):qe(p,c,a)}}};n.context.watch(r,i),n.data[e.key]=function(){n.context.unwatch(r,i),i=l}},unbind:function(t,e,n){W(n.data[e.key])}}),gn={},$n={},xn={},bn={},kn={},wn="$$",En=/^[#.][-\w+]+$/,Cn=function(t){var e=this,n=t||T;e.$emitter=new Gt(s),n.events&&e.on(n.events),n.parent&&(e.$parent=n.parent),W(n.beforeCreate,e,n),e.fire({type:o,ns:r},n);var a=n.data,u=n.props,f=n.vnode,c=n.propTypes,v=n.computed,d=n.methods,y=n.watchers,m=n.extensions;e.$options=n,m&&Pt(e,m);var $=u?jt(u):{};c&&Ot(c,(function(t,e){var n=$[e];n===l&&(n=t.value)!==l&&($[e]=t.type===g?n:P(n)?n():n)}));var x=e.$observer=new fn($,e);v&&Ot(v,(function(t,e){x.addComputed(e,t)}));var b=P(a)?W(a,e,t):a;j(b)&&Ot(b,(function(t,e){$[e]=t})),d&&Ot(d,(function(t,n){e[n]=t}));var k=l,w=n.el,E=n.root,C=n.model,_=n.context,A=n.replace,O=n.template,N=n.transitions,D=n.components,L=n.directives,R=n.partials,U=n.filters,I=n.slots;if(C&&(e.$model=C),I&&Pt($,I),z(O)&&En.test(O)&&(k=Ge(O))&&(O=Ve(k),k=l),w){if(z(w)){var M=w;En.test(M)&&(k=Ge(M))}else k=w;A||Be(k,k=Fe(S))}if(E&&(e.$root=E),_&&(e.$context=_),_n(e,"transition",N),_n(e,h,D),_n(e,"directive",L),_n(e,"partial",R),_n(e,"filter",U),O){var H=y?jt(y):{};return H.$$={sync:s,watcher:function(t){e.update(t,e.$vnode)}},x.addComputed(wn,{sync:p,get:function(){return e.render()}}),e.watch(H),W(e.$options.afterCreate,e),e.fire({type:i,ns:r}),e.$template=z(O)?Cn.compile(O):O,f||(f=function(t,e,n,r){return{tag:t.tag(e),data:pe(),node:e,context:n,keypath:r}}(Qe,k,e,S)),void e.update(e.get(wn),f)}y&&e.watch(y),W(e.$options.afterCreate,e),e.fire({type:i,ns:r})};function _n(t,e,n){P(n)?t[e](W(n,t)):j(n)&&t[e](n)}function An(t,e,n,r){var o=t.$emitter.toFilter(e,n),i={listener:o.listener,ns:o.ns,ctx:t};r&&(i.max=1),t.$emitter.on(o.type,i)}function Tn(t,e,n,r){z(e)?An(t,e,n,r):Ot(e,(function(e,n){An(t,n,e,r)}))}function On(t,e,n){if(t&&t[e]){var r=t[e];if(P(r)){t[e]=[n];var o=function(n){var r=t[e],o=n["default"]||n;t[e]=o,M(r,(function(t){t(o)}))},i=r(o);i&&i.then(o)}else N(r)?q(r,n):n(r);return s}}function Sn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Pn(t,e,n,r){z(e)?t[e]=r?r(n):n:Ot(e,(function(e,n){t[n]=r?r(e):e}))}return Cn.define=function(t){return t},Cn.use=function(t){t.install(Cn)},Cn.nextTick=function(t,e){Qt.shared().append(t,e)},Cn.compile=function(t,e){return t},Cn.directive=function(t,e){if(z(t)&&!e)return Sn(gn,t);Pn(gn,t,e)},Cn.transition=function(t,e){if(z(t)&&!e)return Sn($n,t);Pn($n,t,e)},Cn.component=function(t,e){if(z(t)&&!e)return Sn(xn,t);Pn(xn,t,e)},Cn.partial=function(t,e){if(z(t)&&!e)return Sn(bn,t);Pn(bn,t,e,Cn.compile)},Cn.filter=function(t,e){if(z(t)&&!e)return Sn(kn,t);Pn(kn,t,e)},Cn.prototype.get=function(t,e){return this.$observer.get(t,e)},Cn.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},Cn.prototype.on=function(t,e){return Tn(this,t,e),this},Cn.prototype.once=function(t,e){return Tn(this,t,e,s),this},Cn.prototype.off=function(t,e){return this.$emitter.off(t,e),this},Cn.prototype.fire=function(t,e,n){var r,o=this,i=o.$emitter,a=o.$parent,u=o.$children;if(I.is(t))r=t;else if(z(t))r=new I(t);else{var f=t;(r=new I(f.type)).ns=f.ns}if(r.ns===l){var c=i.toEvent(r.type);r.type=c.type,r.ns=c.ns}r.target||(r.target=o);var p,v=[r];return j(e)?q(v,e):e===s&&(n=s),(p=n&&r.target===o?s:i.fire(r,v))&&(n?u&&(r.phase=I.PHASE_DOWNWARD,M(u,(function(t){return p=t.fire(r,e,s)}))):a&&(r.phase=I.PHASE_UPWARD,p=a.fire(r,e))),p},Cn.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},Cn.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},Cn.prototype.loadComponent=function(t,e){On(this.$components,t,e)||On(xn,t,e)},Cn.prototype.createComponent=function(t,e){var n=this;(t=jt(t)).root=n.$root||n,t.parent=n,t.context=e.context,t.vnode=e,t.replace=s;var r=e.props,o=e.slots,i=e.directives,a=i&&i.model;if(a){r||(r={});var u=t.model||"value";r[u]=a.value,t.model=u}r&&(t.props=r),o&&(t.slots=o);var f=new Cn(t);q(n.$children||(n.$children=[]),f);var c=f.$el;return c&&(e.node=c),f},Cn.prototype.directive=function(t,e){var n=this.$directives;if(z(t)&&!e)return Sn(n,t,Cn.directive);Pn(n||(this.$directives={}),t,e)},Cn.prototype.transition=function(t,e){var n=this.$transitions;if(z(t)&&!e)return Sn(n,t,Cn.transition);Pn(n||(this.$transitions={}),t,e)},Cn.prototype.component=function(t,e){var n=this.$components;if(z(t)&&!e)return Sn(n,t,Cn.component);Pn(n||(this.$components={}),t,e)},Cn.prototype.partial=function(t,e){var n=this.$partials;if(z(t)&&!e)return Sn(n,t,Cn.partial);Pn(n||(this.$partials={}),t,e,Cn.compile)},Cn.prototype.filter=function(t,e){var n=this.$filters;if(z(t)&&!e)return Sn(n,t,Cn.filter);Pn(n||(this.$filters={}),t,e)},Cn.prototype.forceUpdate=function(t){var e=this,n=e.$options,r=e.$vnode,o=e.$observer,i=o.computed;if(r&&i){var a=i.$$,u=a.get();t&&(W(n.beforePropsUpdate,e,t),e.set(t)),o.nextTask.run(),t||u!==a.get()||e.update(a.get(s),r)}},Cn.prototype.render=function(){var t=this;return we(t,t.$observer,t.$template,Nt(t.$filters,kn),Nt(t.$partials,bn),Nt(t.$directives,gn),Nt(t.$transitions,$n))},Cn.prototype.update=function(t,e){var n,o=this,i=o.$vnode,f=o.$options;o.$refs={},i?(W(f.beforeUpdate,o),o.fire({type:u,ns:r}),$e(Qe,t,e),n="afterUpdate"):(W(f.beforeMount,o),o.fire({type:a,ns:r}),$e(Qe,t,e),o.$el=t.node,n="afterMount"),o.$vnode=t,Cn.nextTick((function(){o.$vnode&&(W(f[n],o),o.fire({type:n,ns:r}))}))},Cn.prototype.checkProp=function(t,e){},Cn.prototype.destroy=function(){var t=this,e=t.$parent,n=t.$options,o=t.$emitter,i=t.$observer;W(n.beforeDestroy,t),t.fire({type:f,ns:r});var a=t.$vnode;e&&e.$children&&Z(e.$children,t),a&&(t.$vnode=l,function(t,e,n){if(n){var r=t.parent(e.node);r&&ye(t,r,e)}else me(t,e)}(Qe,a,!e)),i.destroy(),W(n.afterDestroy,t),t.fire({type:c,ns:r}),o.off(),St(t)},Cn.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},Cn.prototype.toggle=function(t){return this.$observer.toggle(t)},Cn.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},Cn.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},Cn.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},Cn.prototype.append=function(t,e){return this.$observer.append(t,e)},Cn.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},Cn.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},Cn.prototype.remove=function(t,e){return this.$observer.remove(t,e)},Cn.prototype.copy=function(t,e){return this.$observer.copy(t,e)},Cn.version="1.0.0-alpha.125",Cn.is=U,Cn.dom=Qe,Cn.array=et,Cn.object=Ut,Cn.string=mt,Cn.logger=Bt,Cn.Event=I,Cn.Emitter=Gt,Cn.directive({event:sn,model:yn,binding:mn}),Cn.filter({hasSlot:function(t){return this.get("$slot_"+t)!==l}}),Cn}));
//# sourceMappingURL=yox.min.js.map
