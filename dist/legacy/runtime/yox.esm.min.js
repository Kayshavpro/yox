const e="undefined"!=typeof window?window:undefined,t="undefined"!=typeof document?document:undefined,n="undefined"!=typeof global?global:e,o=function(){},i=Object.freeze({}),r=Object.freeze([]);function s(e){return"function"==typeof e}function c(e){return Array.isArray(e)}function u(e){return null!==e&&"object"==typeof e}function f(e){return"string"==typeof e}function a(e){return"number"==typeof e&&!isNaN(e)}function l(e){return"boolean"==typeof e}function d(e){return a(e)||f(e)&&!isNaN(parseFloat(e))&&isFinite(e)}var p=Object.freeze({__proto__:null,func:s,array:c,object:u,string:f,number:a,boolean:l,numeric:d});function h(e,t,n){if(s(e))return c(n)?e.apply(t,n):undefined!==t?e.call(t,n):undefined!==n?e(n):e()}class v{constructor(e,t){this.type=e,this.phase=v.PHASE_CURRENT,t&&(this.originalEvent=t)}static is(e){return e instanceof v}preventDefault(){const e=this;if(!e.isPrevented){const{originalEvent:t}=e;t&&t.preventDefault(),e.isPrevented=true}return e}stopPropagation(){const e=this;if(!e.isStoped){const{originalEvent:t}=e;t&&t.stopPropagation(),e.isStoped=true}return e}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}function m(e,t,n){const{length:o}=e;if(o)if(n)for(let n=o-1;n>=0&&false!==t(e[n],n);n--);else for(let n=0;n<o&&false!==t(e[n],n);n++);}function g(e,t){e[e.length]=t}function y(e,t){e.unshift(t)}function $(e,t,n){c(t)?m(t,(function(t){n(e,t)})):n(e,t)}function k(e,t){$(e,t,g)}function b(e,t){$(e,t,y)}function x(e,t,n){let o=-1;return m(e,(function(e,i){if(false===n?e==t:e===t)return o=i,false})),o}function w(e){const{length:t}=e;if(t>0)return e[t-1]}function E(e){const{length:t}=e;if(t>0)return e.pop()}function C(e,t,n){let o=0;return m(e,(function(i,r){(false===n?i==t:i===t)&&(e.splice(r,1),o++)}),true),o}function _(e,t,n){return x(e,t,n)>=0}function A(e){return c(e)?e:h(r.slice,e)}function O(e,t){return e.join(t)}function T(e){return!c(e)||!e.length}v.PHASE_CURRENT=0,v.PHASE_UPWARD=1,v.PHASE_DOWNWARD=-1;var S=Object.freeze({__proto__:null,each:m,push:k,unshift:b,indexOf:x,last:w,pop:E,remove:C,has:_,toArray:A,toObject:function(e,t,n){let o={};return m(e,(function(e){o[t?e[t]:e]=n||e})),o},join:O,falsy:T});const P=/-([a-z])/gi,N=/\B([A-Z])/g,z=/^[a-z]/,j={},D={},L={};function R(e,t,n){return a(n)?t===n?"":e.slice(t,n):e.slice(t)}function U(e,t,n){return e.indexOf(t,undefined!==n?n:0)}function W(e,t,n){return e.lastIndexOf(t,undefined!==n?n:e.length)}function I(e,t){return 0===U(e,t)}function M(e,t){return e.charCodeAt(t||0)}function H(e){return e.toUpperCase()}function F(e){return e.toLowerCase()}function Y(e,t){return U(e,t)>=0}function q(e){return!f(e)||!e.length}var B=Object.freeze({__proto__:null,camelize:function(e){return j[e]||(j[e]=e.replace(P,(function(e,t){return H(t)}))),j[e]},hyphenate:function(e){return D[e]||(D[e]=e.replace(N,(function(e,t){return"-"+F(t)}))),D[e]},capitalize:function(e){return L[e]||(L[e]=e.replace(z,H)),L[e]},trim:function(e){return q(e)?"":e.trim()},slice:R,indexOf:U,lastIndexOf:W,startsWith:I,endsWith:function(e,t){const n=e.length-t.length;return n>=0&&W(e,t)===n},charAt:function(e,t){return e.charAt(t||0)},codeAt:M,upper:H,lower:F,has:Y,falsy:q});const G=/\./g,V=/\*/g,X=/\*\*/g,Z={},J={};function K(e,t){let n;c(Z[e])?n=Z[e]:(n=U(e,".")<0?[e]:e.split("."),Z[e]=n);for(let e=0,o=n.length-1;e<=o&&false!==t(n[e],e,o);e++);}function Q(e,t){return e&&t?e+"."+t:e||t}function ee(e){return Y(e,"*")}function te(e,t){let n=J[t];if(!n){const e=t.replace(G,"\\.").replace(V,"(\\w+)").replace(X,"([.\\w]+?)");n=J[t]=new RegExp(`^${e}$`)}const o=e.match(n);if(o)return o[1]}const ne={value:undefined};function oe(e){return Object.keys(e)}function ie(e,t){for(let n in e)if(false===t(e[n],n))break}function re(e){ie(e,(function(t,n){delete e[n]}))}function se(e,t){return ie(t,(function(t,n){e[n]=t})),e}function ce(e,t){return e&&t?se(se({},e),t):e||t}function ue(e,t){let n=e;return c(e)?t?(n=[],m(e,(function(e,o){n[o]=ue(e,t)}))):n=e.slice():u(e)&&(n={},ie(e,(function(e,o){n[o]=t?ue(e,t):e}))),n}function fe(e,t){return K(t,(function(t,n,o){if(null==e)return e=undefined,false;{let i=e[t],r=undefined!==i;i&&s(i.get)&&(i=i.get()),n===o?r?(ne.value=i,e=ne):e=undefined:e=i}})),e}function ae(e,t,n,o){K(t,(function(t,i,r){if(i===r)e[t]=n;else if(e[t])e=e[t];else{if(!o)return false;e=e[t]={}}}))}function le(e,t){return undefined!==e[t]}function de(e){return!u(e)||c(e)||!oe(e).length}var pe=Object.freeze({__proto__:null,keys:oe,each:ie,clear:re,extend:se,merge:ce,copy:ue,get:fe,set:ae,has:le,falsy:de});function he(e,t){return null!=e&&e.toString?e.toString():undefined!==t?t:""}const ve="undefined"!=typeof console?console:null,me=/yox/.test(he(o))?2:3,ge=e&&/edge|msie|trident/i.test(e.navigator.userAgent)?"":"%c",ye=ve?ge?function(e,t,n){ve.log(ge+e,n,t)}:function(e,t){ve.log(e,t)}:o;function $e(){if(n){const e=n.YOX_LOG_LEVEL;if(e>=1&&e<=5)return e}return me}function ke(e){return`background-color:${e};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}var be=Object.freeze({__proto__:null,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5,debug:function(e,t){$e()<=1&&ye(t||"Yox debug",e,ke("#999"))},info:function(e,t){$e()<=2&&ye(t||"Yox info",e,ke("#2db7f5"))},warn:function(e,t){$e()<=3&&ye(t||"Yox warn",e,ke("#f90"))},error:function(e,t){$e()<=4&&ye(t||"Yox error",e,ke("#ed4014"))},fatal:function(e,t){if($e()<=5)throw new Error(`[${t||"Yox fatal"}]: ${e}`)}});class xe{constructor(e){this.ns=e||false,this.listeners={}}fire(e,t,n){let o=this,i=f(e)?o.toEvent(e):e,r=o.listeners[i.type],s=true;if(r){r=r.slice();const e=t&&v.is(t[0])?t[0]:undefined;for(let c=0,u=r.length;c<u;c++){let u=r[c];if(!Ee(i.ns,u)||!_(r,u)||n&&!n(i,t,u))continue;e&&(e.listener=u.listener);let f=h(u.listener,u.ctx,t);if(e&&(e.listener=undefined),u.num=u.num?u.num+1:1,u.num===u.max&&o.off(i.type,{ns:i.ns,listener:u.listener}),e&&(false===f?e.prevent().stop():e.isStoped&&(f=false)),false===f){s=false;break}}}return s}on(e,t){const n=this,o=n.listeners,i=s(t)?{listener:t}:t;if(u(i)&&s(i.listener)){if(!f(i.ns)){const t=n.toEvent(e);i.ns=t.ns,e=t.type}k(o[e]||(o[e]=[]),i)}}off(e,t){const n=this,o=n.listeners;if(e){const i=n.toFilter(e,t),r=function(e,t){m(e,(function(t,n){we(i.listener,t)&&Ee(i.ns,t)&&e.splice(n,1)}),true),e.length||delete o[t]};i.type?o[i.type]&&r(o[i.type],i.type):i.ns&&ie(o,r)}else n.listeners={}}has(e,t){let n=this.listeners,o=this.toFilter(e,t),i=true,r=function(e){return m(e,(function(e){if(we(o.listener,e)&&Ee(o.ns,e))return i=false})),i};return o.type?n[o.type]&&r(n[o.type]):o.ns&&ie(n,r),!i}toEvent(e){const t={type:e,ns:""};if(this.ns){const n=U(e,".");n>=0&&(t.type=R(e,0,n),t.ns=R(e,n+1))}return t}toFilter(e,t){let n;if(n=t?s(t)?{listener:t}:t:{},f(n.ns))n.type=e;else{const t=this.toEvent(e);n.type=t.type,n.ns=t.ns}return n}}function we(e,t){return!e||e===t.listener}function Ee(e,t){const{ns:n}=t;return!n||!e||n===e}function Ce(e){return s(e)&&Y(he(e),"[native code]")}let _e;"function"==typeof setImmediate&&Ce(setImmediate)&&(_e=setImmediate),_e="function"==typeof MessageChannel&&Ce(MessageChannel)?function(e){const t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(1)}:setTimeout;var Ae=_e;let Oe;class Te{constructor(){this.tasks=[]}static shared(){return Oe||(Oe=new Te)}append(e,t){const n=this,{tasks:o}=n;k(o,{fn:e,ctx:t}),1===o.length&&Ae((function(){n.run()}))}prepend(e,t){const n=this,{tasks:o}=n;b(o,{fn:e,ctx:t}),1===o.length&&Ae((function(){n.run()}))}clear(){this.tasks.length=0}run(){const{tasks:e}=this;e.length&&(this.tasks=[],m(e,(function(e){h(e.fn,e.ctx)})))}}function Se(e,t,n){const{node:o,nativeAttrs:r}=t,s=n&&n.nativeAttrs;if(r||s){const t=r||i,n=s||i;for(let i in t)undefined!==n[i]&&t[i]===n[i]||e.attr(o,i,t[i]);for(let i in n)undefined===t[i]&&e.removeAttr(o,i)}}function Pe(e,t,n){const{node:o,nativeProps:r}=t,s=n&&n.nativeProps;if(r||s){const t=r||i,n=s||i;for(let i in t)undefined!==n[i]&&t[i]===n[i]||e.prop(o,i,t[i]);for(let i in n)undefined===t[i]&&e.removeProp(o,i)}}function Ne(e,t){const{data:n,directives:o}=e,r=t&&t.directives;if(o||r){const s=n.$component||e.node,c=t&&e.keypath!==t.keypath,u=o||i,f=r||i;for(let n in u){const o=u[n],{once:i,bind:r,unbind:a}=o.hooks;f[n]?(i||o.value!==f[n].value||c)&&(a&&a(s,f[n],t),r(s,o,e)):r(s,o,e)}for(let e in f)if(!u[e]){const{unbind:n}=f[e].hooks;n&&n(s,f[e],t)}}}function ze(e){const{directives:t}=e;if(t){const n=e.data.$component||e.node;for(let o in t){const{unbind:i}=t[o].hooks;i&&i(n,t[o],e)}}}function je(e,t){let n,{data:o,ref:i,props:r,slots:s,directives:c,context:u}=e;if(e.isComponent){if(n=o.$component,t){const e=c&&c.model;e&&(r||(r={}),r[n.$model]=e.value);const t=ce(r,s);t&&n.forceUpdate(t)}}else n=e.node;if(i){const e=u.$refs;e&&(e[i]=n)}}function De(e,t){return e.tag===t.tag&&e.key===t.key}function Le(e,t,n){let o,r,s;for(;t<=n;)r=e[t],r&&(s=r.key)&&(o||(o={}),o[s]=t),t++;return o||i}function Re(e,t,n,o){o?e.before(t,n,o):e.append(t,n)}function Ue(e,t){const n=(e.parent||e.context).createComponent(t,e);return e.data.$component=n,e.data.$loading=false,Ne(e),je(e),n}let We=0;function Ie(){const e={};return e.$id=++We,e}function Me(e,t){let{tag:n,node:o,data:i,isComponent:r,isComment:s,isText:c,isStyle:u,isOption:f,children:a,text:l,html:d,context:p}=t;if(!o||!i)if(i=Ie(),t.data=i,c)t.node=e.createText(l);else if(s)t.node=e.createComment(l);else if(r){let o=undefined;n&&p.loadComponent(n,(function(e){le(i,"$loading")?i.$loading&&(i.$vnode&&(t=i.$vnode,delete i.$vnode),Ge(t,Ue(t,e))):o=e})),t.node=e.createComment("component"),o?Ue(t,o):i.$loading=true}else o=t.node=e.createElement(t.tag,t.isSvg),a?He(e,o,a):l?e.text(o,l,u,f):d&&e.html(o,d,u,f),Se(e,t),Pe(e,t),Ne(t),je(t)}function He(e,t,n,o,i,r){let s,c=o||0,u=undefined!==i?i:n.length-1;for(;c<=u;)s=n[c],Me(e,s),Fe(e,t,s,r),c++}function Fe(e,t,n,o){const{node:i,data:r,context:s}=n,c=e.parent(i);if(o?e.before(t,i,o.node):e.append(t,i),!c){let e=undefined;if(n.isComponent){const t=r.$component;t&&(e=function(){Ge(n,t)})}else n.isStatic||n.isText||n.isComment||(e=function(){Ge(n)});e&&s.$observer.nextTask.prepend(e)}}function Ye(e,t,n,o,i){let r,s=o||0,c=undefined!==i?i:n.length-1;for(;s<=c;)r=n[s],r&&qe(e,t,r),s++}function qe(e,t,n){const{node:o}=n;if(n.isStatic||n.isText||n.isComment)e.remove(t,o);else{let i,r=function(){Be(e,n),e.remove(t,o)};if(n.isComponent&&(i=n.data.$component,!i))return void r();!function(e,t,n){let{data:o,transition:i}=e;t&&!i&&(i=t.$vnode.transition);if(i){const{leave:t}=i;if(t)return void t(e.node,o.$leaving=function(){o.$leaving&&(n(),o.$leaving=undefined)})}n()}(n,i,r)}}function Be(e,t){const{data:n,children:o,parent:i,slot:r}=t;if(r&&i&&i.$vnode){const e=i.get(r);if(e&&_(e,t))return}if(t.isComponent){const e=n.$component;e?(ze(t),e.destroy()):n.$loading=false}else ze(t),o&&m(o,(function(t){Be(e,t)}))}function Ge(e,t){let{data:n,transition:o}=e;if(t&&!o&&(o=t.$vnode.transition),h(n.$leaving),o){const{enter:t}=o;if(t)return void t(e.node)}}function Ve(e,t,n){if(t===n)return;const{node:o,data:i}=n;if(!De(t,n)){const i=e.parent(o);return Me(e,t),void(i&&(Fe(e,i,t,n),qe(e,i,n)))}if(t.node=o,t.data=i,n.isComponent&&i.$loading)return void(i.$vnode=t);Se(e,t,n),Pe(e,t,n),Ne(t,n),je(t,n);const{text:r,html:s,children:c,isStyle:u,isOption:a}=t,l=n.text,d=n.html,p=n.children;f(r)?r!==l&&e.text(o,r,u,a):f(s)?s!==d&&e.html(o,s,u,a):c&&p?c!==p&&function(e,t,n,o){let i,r,s=0,c=n.length-1,u=n[s],f=n[c],a=0,l=o.length-1,d=o[a],p=o[l];for(;a<=l&&s<=c;)u?f?d?p?De(u,d)?(Ve(e,u,d),u=n[++s],d=o[++a]):De(f,p)?(Ve(e,f,p),f=n[--c],p=o[--l]):De(f,d)?(Ve(e,f,d),Re(e,t,d.node,e.next(p.node)),f=n[--c],d=o[++a]):De(u,p)?(Ve(e,u,p),Re(e,t,p.node,d.node),u=n[++s],p=o[--l]):(i||(i=Le(o,a,l)),r=u.key?i[u.key]:void 0,void 0!==r?(Ve(e,u,o[r]),o[r]=void 0):Me(e,u),Fe(e,t,u,d),u=n[++s]):p=o[--l]:d=o[++a]:f=n[--c]:u=n[++s];a>l?He(e,t,n,s,c,n[c+1]):s>c&&Ye(e,t,o,a,l)}(e,o,c,p):c?((f(l)||f(d))&&e.text(o,"",u),He(e,o,c)):p?Ye(e,o,p):(f(l)||f(d))&&e.text(o,"",u)}function Xe(e,t){return d(e)?+e:undefined!==t?t:0}function Ze(e,t,n,o){(e[t]||(e[t]={}))[n]=o}let Je=0,Ke="textContent",Qe=function(e,t){return e},et=function(e){const n=t.querySelector(e);if(n)return n},tt=function(e,t,n){e.addEventListener(t,n,false)},nt=function(e,t,n){e.removeEventListener(t,n,false)},ot=function(e,t){e.classList.add(t)},it=function(e,t){e.classList.remove(t)};if(t&&(t.documentElement.classList||(ot=function(e,t){const n=e.className.split(rt);_(n,t)||(k(n,t),e.className=O(n,rt))},it=function(e,t){const n=e.className.split(rt);C(n,t)&&(e.className=O(n,rt))}),!t.addEventListener)){const e="propertychange",n=function(e){return"INPUT"===e.tagName&&("radio"===e.type||"checkbox"===e.type)};class o{constructor(e,t){se(this,e),this.currentTarget=t,this.target=e.srcElement||t,this.originalEvent=e}preventDefault(){this.originalEvent.returnValue=false}stopPropagation(){this.originalEvent.cancelBubble=true}}Ke="data",Qe=function(e,t){return new o(e,t)},et=function(e){35===M(e,0)&&(e=R(e,1));const n=t.getElementById(e);if(n)return n},tt=function(t,o,i){"input"===o?tt(t,e,i[st]=function(e){"value"===e.propertyName&&h(i,this,new v("input",Qe(e,t)))}):"change"===o&&n(t)?tt(t,"click",i[st]=function(e){h(i,this,new v("change",Qe(e,t)))}):t.attachEvent("on"+o,i)},nt=function(t,o,i){"input"===o?(nt(t,e,i[st]),delete i[st]):"change"===o&&n(t)?(nt(t,"click",i[st]),delete i[st]):t.detachEvent("on"+o,i)}}const rt=" ",st="$emitter",ct={svg:"http://www.w3.org/2000/svg"},ut={},ft={};function at(e){return t.createComment(e)}function lt(e,t,n){if(undefined!==n)ae(e,t,n,false);else{const n=fe(e,t);if(n)return n.value}}function dt(e,t,n){if(undefined!==n)e.setAttribute(t,n);else{const n=e.getAttribute(t);if(null!=n)return n}}function pt(e,t){e.appendChild(t)}ft.model={on(e,t){let n=false;yt(e,"compositionstart",t.compositionstart=function(){n=true}),yt(e,"compositionend",t.compositionend=function(e){n=false,t(e)}),tt(e,"input",t.input=function(e){n||t(e)})},off(e,t){$t(e,"compositionstart",t.compositionstart),$t(e,"compositionend",t.compositionend),nt(e,"input",t.input),t.compositionstart=t.compositionend=t.input=undefined}};const ht=et;function vt(e,t,n,o){if(undefined===t)return e.innerHTML;n&&le(e,"styleSheet")?e.styleSheet.cssText=t:(o&&(e.value=t),e.innerHTML=t)}const mt=ot,gt=it;function yt(e,t,n,o){const i=e[st]||(e[st]=++Je),r=ut[i]||(ut[i]=new xe),s=r.nativeListeners||(r.nativeListeners={});if(!s[t]){const n=ft[t],o=function(n){const o=v.is(n)?n:new v(n.type,Qe(n,e));o.type!==t&&(o.type=t),r.fire({type:t,ns:""},[o])};s[t]=o,n?n.on(e,o):tt(e,t,o)}r.on(t,{ns:"",listener:n,ctx:o})}function $t(e,t,n){const o=e[st],i=ut[o],{listeners:r,nativeListeners:s}=i;if(i.off(t,{ns:"",listener:n}),s&&!i.has(t)){const n=ft[t],o=s[t];n?n.off(e,o):nt(e,t,o),delete s[t]}ut[o]&&de(r)&&(e[st]=undefined,delete ut[o])}var kt=Object.freeze({__proto__:null,createElement:function(e,n){return n?t.createElementNS(ct.svg,e):t.createElement(e)},createText:function(e){return t.createTextNode(e)},createComment:at,prop:lt,removeProp:function(e,t){ae(e,t,undefined)},attr:dt,removeAttr:function(e,t){e.removeAttribute(t)},before:function(e,t,n){e.insertBefore(t,n)},append:pt,replace:function(e,t,n){e.replaceChild(t,n)},remove:function(e,t){e.removeChild(t)},parent:function(e){const{parentNode:t}=e;if(t)return t},next:function(e){const{nextSibling:t}=e;if(t)return t},find:ht,tag:function(e){if(1===e.nodeType)return F(e.tagName)},text:function(e,t,n,o){if(undefined===t)return e[Ke];n&&le(e,"styleSheet")?e.styleSheet.cssText=t:(o&&(e.value=t),e[Ke]=t)},html:vt,addClass:mt,removeClass:gt,on:yt,off:$t,addSpecialEvent:function(e,t){ft[e]=t}});class bt{constructor(e,t,n,o,i,r,s){const c=this;c.keypath=e,c.cache=n,c.deps=o,c.context=i.context,c.observer=i,c.getter=r,c.setter=s,c.unique={},c.watcher=function(t,n,o){const r=c.value,s=c.get(true);s!==r&&i.diff(e,s,r)},c.watcherOptions={sync:t,watcher:c.watcher},(c.fixed=!T(o))&&m(o,(function(e){i.watch(e,c.watcherOptions)}))}get(e){const t=this,{getter:n,context:o}=t;if(t.cache){if(e||!le(t,"value"))if(t.fixed)t.value=h(n,o);else{t.unbind();const e=bt.current;bt.current=t,t.value=h(n,o),t.bind(),bt.current=e}}else t.value=h(n,o);return t.value}set(e){const{setter:t,context:n}=this;t&&t.call(n,e)}add(e){this.unique[e]=true}bind(){const{unique:e,deps:t,observer:n,watcherOptions:o}=this;ie(e,(function(e,i){k(t,i),n.watch(i,o)})),this.unique={}}unbind(){const{deps:e,observer:t,watcher:n}=this;m(e,(function(e){t.unwatch(e,n)}),true),e.length=0}}function xt(e,t){if(null==e||""===t)return e;const n=fe(e,t);return n?n.value:void 0}function wt(e,t,n,o,r){const s=function(t,n,i){if(n!==i){const s=Q(e,t);m(o,(function(e){undefined!==te(s,e)&&r(e,s,n,i)})),wt(s,n,i,o,r)}};(function(e,t,n){const o=f(e),i=f(t);if(o||i)return n("length",o?e.length:void 0,i?t.length:void 0),!0})(t,n,s)||function(e,t,n){const o=c(e),i=c(t);if(o||i){const r=o?e.length:void 0,s=i?t.length:void 0;n("length",r,s);for(let o=0,i=Math.max(r||0,s||0);o<i;o++)n(""+o,e?e[o]:void 0,t?t[o]:void 0);return!0}}(t,n,s)||function(e,t,n){const o=u(e),r=u(t);(o||r)&&(e=o?e:i,t=r?t:i,o&&ie(e,(function(e,o){e!==t[o]&&n(o,e,t[o])})),r&&ie(t,(function(t,o){t!==e[o]&&n(o,e[o],t)})))}(t,n,s)}function Et(e,t,n,o,i,r){let s;ie(o,(function(o,c){if(ee(c))return void(undefined!==te(e,c)?r(c,e,t,n):i&&(s?k(s,c):s=[c]));const u=function(e,t){return e===t||I(e,t+=".")?t.length:-1}(c,e);if(u>=0){const e=R(c,u),o=xt(t,e),i=xt(n,e);o!==i&&r(c,c,o,i)}})),s&&wt(e,t,n,s,r)}function Ct(e,t,n){if(n.count&&t)return n.count--,t[0]!==t[1]}const _t={watcher:o};function At(e,t){return s(e)?(_t.watcher=e,_t.immediate=true===t,_t):e&&e.watcher?e:void 0}class Ot{constructor(e,t){const n=this;n.data=e||{},n.context=t||n,n.nextTask=new Te,n.syncEmitter=new xe,n.asyncEmitter=new xe,n.asyncChanges={}}get(e,t,n){const o=bt.current,{data:i,computed:r}=this;if(""===e)return i;let s;return o&&!n&&o.add(e),r&&(s=fe(r,e)),s||(s=fe(i,e)),s?s.value:t}set(e,t){const n=this,{data:o,computed:i}=n,r=function(e,t){const r=n.get(t);if(e===r)return;let s;K(t,(function(t,n,r){0!==n?s&&(n===r?s[t]=e:s=s[t]||(s[t]={})):i&&i[t]?0===r?i[t].set(e):s=i[t].get():0===r?o[t]=e:s=o[t]||(o[t]={})})),n.diff(t,e,r)};f(e)?r(t,e):u(e)&&ie(e,r)}diff(e,t,n){const o=this,{syncEmitter:i,asyncEmitter:r,asyncChanges:s}=o,c=36!==M(e);Et(e,t,n,i.listeners,c,(function(e,t,n,o){i.fire({type:e,ns:""},[n,o,t])})),Et(e,t,n,r.listeners,c,(function(e,t,n,i){m(r.listeners[e],(function(e){e.count++}));const{keypaths:c}=s[t]||(s[t]={value:i,keypaths:[]});_(c,e)||k(c,e),o.pending||(o.pending=true,o.nextTask.append((function(){o.pending&&(o.pending=undefined,o.diffAsync())})))}))}diffAsync(){const e=this,{asyncEmitter:t,asyncChanges:n}=e;e.asyncChanges={},ie(n,(function(n,o){const i=[e.get(o),n.value,o];m(n.keypaths,(function(e){t.fire({type:e,ns:""},i,Ct)}))}))}addComputed(e,t){let n,o,i=true,r=true,f=[];if(s(t))n=t;else if(u(t)){const e=t;l(e.cache)&&(i=e.cache),l(e.sync)&&(r=e.sync),c(e.deps)&&(f=ue(e.deps)),s(e.get)&&(n=e.get),s(e.set)&&(o=e.set)}if(n){const t=this,s=new bt(e,r,i,f,t,n,o);return t.computed||(t.computed={}),t.computed[e]=s,s}}removeComputed(e){const{computed:t}=this;t&&le(t,e)&&delete t[e]}watch(e,t,n){const o=this,{context:i,syncEmitter:r,asyncEmitter:s}=o,c=function(e,t){const n=t.sync?r:s,c={ns:"",listener:t.watcher,ctx:i,count:0};t.once&&(c.max=1),n.on(e,c),t.immediate&&h(t.watcher,i,[o.get(e),undefined,e])};f(e)?c(e,At(t,n)):ie(e,(function(e,t){c(t,At(e))}))}unwatch(e,t){let n={ns:"",listener:t};this.syncEmitter.off(e,n),this.asyncEmitter.off(e,n)}toggle(e){const t=!this.get(e);return this.set(e,t),t}increase(e,t,n){const o=Xe(this.get(e),0)+(t||1);if(!a(n)||o<=n)return this.set(e,o),o}decrease(e,t,n){const o=Xe(this.get(e),0)-(t||1);if(!a(n)||o>=n)return this.set(e,o),o}insert(e,t,n){let o=this.get(e);o=c(o)?ue(o):[];const{length:i}=o;if(true===n||n===i)o.push(t);else if(false===n||0===n)o.unshift(t);else{if(!(n>0&&n<i))return;o.splice(n,0,t)}return this.set(e,o),true}append(e,t){return this.insert(e,t,true)}prepend(e,t){return this.insert(e,t,false)}removeAt(e,t){let n=this.get(e);if(c(n)&&t>=0&&t<n.length)return n=ue(n),n.splice(t,1),this.set(e,n),true}remove(e,t){let n=this.get(e);if(c(n)&&(n=ue(n),C(n,t)))return this.set(e,n),true}copy(e,t){return ue(e,t)}destroy(){const e=this;e.syncEmitter.off(),e.asyncEmitter.off(),e.nextTask.clear(),re(e)}}function Tt(e,t,n){let o;return function(){if(!o){const i=A(arguments);n&&h(e,undefined,i),o=setTimeout((function(){o=undefined,n||h(e,undefined,i)}),t)}}}var St=Object.freeze({__proto__:null,bind:function(e,t,n){let o,{key:i,name:r,modifier:s,handler:c}=t,{lazy:u}=n;if(c){if(u){const e=u[r]||u[""];true===e?r="change":e>0&&(c=Tt(c,e,"click"===r||"tap"===r))}if(n.isComponent){const t=e;if("native"===s)o=t.$el,yt(o,r,c),n.data[i]=function(){$t(o,r,c)};else{const e={ns:s||"",listener(e,t){if(e.phase!==v.PHASE_DOWNWARD)return c(e,t)}};t.on(r,e),n.data[i]=function(){t.off(r,e)}}}else o=e,yt(o,r,c),n.data[i]=function(){$t(o,r,c)}}},unbind:function(e,t,n){h(n.data[t.key])}});function Pt(e,t){return t&&true!==t?Tt(e,t):e}const Nt={set(e,t){e.value=he(t)},sync(e,t,n){n.set(t,e.value)},name:"value"},zt={set(e,t){e.checked=e.value===he(t)},sync(e,t,n){e.checked&&n.set(t,e.value)},name:"checked"},jt={set(e,t){e.checked=c(t)?_(t,e.value,false):!!t},sync(e,t,n){const o=n.get(t);c(o)?e.checked?n.append(t,e.value):n.removeAt(t,x(o,e.value,false)):n.set(t,e.checked)},name:"checked"},Dt={set(e,t){m(A(e.options),e.multiple?function(e){e.selected=_(t,e.value,false)}:function(n,o){if(n.value==t)return e.selectedIndex=o,false})},sync(e,t,n){const{options:o}=e;if(e.multiple){const e=[];m(A(o),(function(t){t.selected&&k(e,t.value)})),n.set(t,e)}else n.set(t,o[e.selectedIndex].value)},name:"value"};var Lt=Object.freeze({__proto__:null,once:true,bind:function(e,t,n){let o,i,{context:r,lazy:s,isComponent:c}=n,u=t.modifier,f=s&&(s.model||s[""]);if(c){let t=e,n=t.$model,s=Pt((function(e){r.set(u,e)}),f);o=function(e){o&&t.set(n,e)},i=function(){t.unwatch(n,s)},t.watch(n,s)}else{let s=e,c="select"===n.tag?Dt:Nt,a="change";if(c===Nt){const t=e.type;"radio"===t?c=zt:"checkbox"===t?c=jt:true!==f&&(a="model")}o=function(e){o&&c.set(s,e)};const l=Pt((function(){c.sync(s,u,r)}),f);i=function(){$t(s,a,l)},yt(s,a,l),c.set(s,t.value)}r.watch(u,o),n.data[t.key]=function(){r.unwatch(u,o),o=undefined,i()}},unbind:function(e,t,n){h(n.data[t.key])}});var Rt=Object.freeze({__proto__:null,once:true,bind:function(e,t,n){let o=t.modifier,i=ee(o),r=function(s,c,u){if(r){const r=i?te(u,o):t.name;if(n.isComponent){const t=e;t.checkProp(r,s),t.set(r,s)}else{const n=e;undefined!==t.hint?lt(n,r,s):dt(n,r,s)}}};n.context.watch(o,r),n.data[t.key]=function(){n.context.unwatch(o,r),r=undefined}},unbind:function(e,t,n){h(n.data[t.key])}});const Ut={},Wt={},It={},Mt={},Ht={},Ft=/^[#.][-\w+]+$/;class Yt{constructor(e){const t=this,n=e||i;t.$emitter=new xe(true),n.events&&t.on(n.events),n.parent&&(t.$parent=n.parent),h(n.beforeCreate,t,n),t.fire({type:"beforeCreate",ns:"hook"},n);let{data:o,props:r,vnode:c,propTypes:a,computed:l,methods:d,watchers:p,extensions:v}=n;t.$options=n,v&&se(t,v);const m=r?ue(r):{};a&&ie(a,(function(e,t){let n=m[t];undefined===n&&(n=e.value,undefined!==n&&(m[t]="function"===e.type?n:s(n)?n():n))}));const g=t.$observer=new Ot(m,t);l&&ie(l,(function(e,t){g.addComputed(t,e)}));const y=s(o)?h(o,t,e):o;u(y)&&ie(y,(function(e,t){m[t]=e})),d&&ie(d,(function(e,n){t[n]=e}));{let e=undefined,{el:o,root:i,model:r,context:s,replace:u,template:a,transitions:l,components:d,directives:v,partials:y,filters:$,slots:k}=n;if(r&&(t.$model=r),k&&se(m,k),f(a)&&Ft.test(a)&&(e=ht(a),e&&(a=vt(e),e=undefined)),o){if(f(o)){const t=o;Ft.test(t)&&(e=ht(t))}else e=o;u||pt(e,e=at(""))}if(i&&(t.$root=i),s&&(t.$context=s),qt(t,"transition",l),qt(t,"component",d),qt(t,"directive",v),qt(t,"partial",y),qt(t,"filter",$),a){const n=p?ue(p):{};return n.$$={sync:true,watcher:function(e){t.update(e,t.$vnode)}},g.addComputed("$$",{sync:false,get:function(){return t.render()}}),t.watch(n),h(t.$options.afterCreate,t),t.fire({type:"afterCreate",ns:"hook"}),t.$template=f(a)?Yt.compile(a):a,c||(c=function(e,t,n,o){return{tag:e.tag(t),data:Ie(),node:t,context:n,keypath:o}}(kt,e,t,"")),void t.update(t.get("$$"),c)}}p&&t.watch(p),h(t.$options.afterCreate,t),t.fire({type:"afterCreate",ns:"hook"})}static define(e){return e}static use(e){e.install(Yt)}static nextTick(e,t){Te.shared().append(e,t)}static compile(e,t){return e}static directive(e,t){if(f(e)&&!t)return Xt(Ut,e);Zt(Ut,e,t)}static transition(e,t){if(f(e)&&!t)return Xt(Wt,e);Zt(Wt,e,t)}static component(e,t){if(f(e)&&!t)return Xt(It,e);Zt(It,e,t)}static partial(e,t){if(f(e)&&!t)return Xt(Mt,e);Zt(Mt,e,t,Yt.compile)}static filter(e,t){if(f(e)&&!t)return Xt(Ht,e);Zt(Ht,e,t)}get(e,t){return this.$observer.get(e,t)}set(e,t){const{$observer:n}=this;n&&n.set(e,t)}on(e,t){return Gt(this,e,t),this}once(e,t){return Gt(this,e,t,true),this}off(e,t){return this.$emitter.off(e,t),this}fire(e,t,n){const o=this,{$emitter:i,$parent:r,$children:s}=o;let c;if(v.is(e))c=e;else if(f(e))c=new v(e);else{const t=e;c=new v(t.type),c.ns=t.ns}if(undefined===c.ns){const e=i.toEvent(c.type);c.type=e.type,c.ns=e.ns}c.target||(c.target=o);let a,l=[c];return u(t)?k(l,t):true===t&&(n=true),a=!(!n||c.target!==o)||i.fire(c,l),a&&(n?s&&(c.phase=v.PHASE_DOWNWARD,m(s,(function(e){return a=e.fire(c,t,true)}))):r&&(c.phase=v.PHASE_UPWARD,a=r.fire(c,t))),a}watch(e,t,n){return this.$observer.watch(e,t,n),this}unwatch(e,t){return this.$observer.unwatch(e,t),this}loadComponent(e,t){Vt(this.$components,e,t)||Vt(It,e,t)}createComponent(e,t){{const n=this;(e=ue(e)).root=n.$root||n,e.parent=n,e.context=t.context,e.vnode=t,e.replace=true;let{props:o,slots:i,directives:r}=t,s=r&&r.model;if(s){o||(o={});const t=e.model||"value";o[t]=s.value,e.model=t}o&&(e.props=o),i&&(e.slots=i);const c=new Yt(e);k(n.$children||(n.$children=[]),c);const u=c.$el;return u&&(t.node=u),c}}directive(e,t){{const n=this,{$directives:o}=n;if(f(e)&&!t)return Xt(o,e,Yt.directive);Zt(o||(n.$directives={}),e,t)}}transition(e,t){{const n=this,{$transitions:o}=n;if(f(e)&&!t)return Xt(o,e,Yt.transition);Zt(o||(n.$transitions={}),e,t)}}component(e,t){{const n=this,{$components:o}=n;if(f(e)&&!t)return Xt(o,e,Yt.component);Zt(o||(n.$components={}),e,t)}}partial(e,t){{const n=this,{$partials:o}=n;if(f(e)&&!t)return Xt(o,e,Yt.partial);Zt(o||(n.$partials={}),e,t,Yt.compile)}}filter(e,t){{const n=this,{$filters:o}=n;if(f(e)&&!t)return Xt(o,e,Yt.filter);Zt(o||(n.$filters={}),e,t)}}forceUpdate(e){{const t=this,{$options:n,$vnode:o,$observer:i}=t,{computed:r}=i;if(o&&r){const s=r.$$,c=s.get();e&&(h(n.beforePropsUpdate,t,e),t.set(e)),i.nextTask.run(),e||c!==s.get()||t.update(s.get(true),o)}}}render(){{const e=this;return function(e,t,n,o,i,r,s){let f,a={$keypath:""},l=[a],d=[],p=[],m={},g=function(e,n,i,r,s,c){let u=e[n],f=Q(u.$keypath,i),a=e,l=ne;if(void 0===c&&(c=f),void 0!==u[i]?a=u[i]:void 0!==u.$item&&(u=u.$item,""===i?a=u:null!=u&&void 0!==u[i]&&(a=u[i])),a===e&&(a=t.get(f,e,s),a===e)){if(r&&n>0)return g(e,n-1,i,r,s,c);const t=fe(o,i);return t?(l=t,l.keypath=i):(l.value=void 0,l.keypath=c),l}return l.value=a,l.keypath=f,l},y=function(t,n,o){return function(i,r){const s=e[t];if(v.is(i)){let t=void 0;if(n){const c=w(o);c&&(c.$event=i,c.$data=r,t=h(s,e,n(o)),c.$event=c.$data=void 0)}else t=h(s,e,r?[i,r]:i);return t}h(s,e,n?n(o):void 0)}},$=function(e,t){return function(){return e(t)}},x=function(t){const n=w(d);if(n){const o=he(t),i=w(n);i&&i.isText?i.text+=o:k(n,{tag:"#",isText:!0,text:o,context:e,keypath:a.$keypath})}},C=function(e,t){Ze(f,f.isComponent?"props":"nativeAttrs",e,t)},_=function(e,t){Ze(f,"nativeProps",e,t)},A=function(e,t){Ze(f,"lazy",e,t)},T=function(e){f.transition=s[e]},S=function(e,t,n){const o=Q("binding",e);return Ze(f,"directives",o,{ns:"binding",name:e,key:o,modifier:t.keypath,hooks:r.binding,hint:n}),t.value},P=function(e){Ze(f,"directives","model",{ns:"model",name:"",key:"model",value:e.value,modifier:e.keypath,hooks:r.model})},N=function(e,t,n,o,i,s){Ze(f,"directives",t,{ns:"event",name:e,key:t,value:o,modifier:n,hooks:r.event,handler:y(i,s,l)})},z=function(t,n,o,i,s){var c;Ze(f,"directives",n,{ns:"event",name:t,key:n,value:i,modifier:o,hooks:r.event,handler:(c=s,function(t,n){c!==t.type&&(t=new v(c,t)),e.fire(t,n)})})},j=function(e,t,n,o,i,s,c){const u=r[e];Ze(f,"directives",t,{ns:"o",name:e,key:t,value:o,hooks:u,modifier:n,getter:c?$(c,l):void 0,handler:i?y(i,s,l):void 0})},D=function(e){const{value:t,keypath:n}=e;if(u(t)){for(let e in t)Ze(f,"props",e,t[e]);if(n){const e=Q("binding",n);Ze(f,"directives",e,{ns:"binding",name:"",key:e,modifier:Q(n,"*"),hooks:r.binding})}}},L=function(e){const t=w(d);return t&&k(t,e),e},R=function(){return L({tag:"!",isComment:!0,text:"",keypath:a.$keypath,context:e})},U=function(t,n,o,i,r,s,c,u,l,p){const h={tag:t,isStatic:i,isOption:r,isStyle:s,isSvg:c,ref:l,key:p,context:e,keypath:a.$keypath};return void 0!==u&&(h.html=he(u)),n&&(f=h,n(),f=void 0),o&&(d.push(h.children=[]),o(),E(d)),L(h)},W=function(t,n,o,i,r){const s={tag:t,ref:i,key:r,context:e,keypath:a.$keypath,isComponent:!0},c=w(p);if(c&&k(c,s),n&&(f=s,n(),f=void 0),o){const e={};for(let t in o){d.push([]),p.push([]),o[t]();const n=E(d),i=E(p);n.length?e[t]={vnodes:n,components:i}:e[t]=void 0}s.slots=e}return L(s)},I=function(e,t,n,o,i,r){let s=r||l,c=s.length-1;n&&(c-=n);let u=g(s,c,e,t,i);return o?u:u.value},M=function(e,t){return b(t,e),O(t,".")},H=function(e,t,n,o){void 0!==n&&(t=O(n,"."));const i=fe(e,t);return ne.keypath=void 0,ne.value=i?i.value:void 0,o?ne:ne.value},F=function(t,n,o){return ne.keypath=void 0,ne.value=h(t,e,n||void 0),o?ne:ne.value},Y=function(t,n){const o=w(d),i=e.get(t);if(o)if(i){const{vnodes:n,components:r}=i;for(let e=0,i=n.length;e<i;e++)k(o,n[e]),n[e].slot=t;for(let t=0,n=r.length;t<n;t++)r[t].parent=e}else n&&n()},q=function(e,t){m[e]=t},B=function(e){if(m[e])m[e]();else{const t=i[e];t&&t(I,M,H,F,x,C,_,A,T,S,P,N,z,j,D,R,U,W,Y,q,B,V,X,Z)}},G=function(e,t,n,o,i,r){const s=a,c=l;a={$keypath:o},l=c.concat(a),void 0!==r&&(a.$length=r),i&&(a[i]=n),o||(a.$item=t),e(),a=s,l=c},V=function(e,t,n){const{keypath:o,value:i}=t;if(c(i))for(let t=0,r=i.length;t<r;t++)G(e,i[t],t,o?Q(o,""+t):"",n,r);else if(u(i))for(let t in i)G(e,i[t],t,o?Q(o,t):"",n)},X=function(e,t,n,o){let i=0;if(t<n)for(let r=t;r<n;r++)G(e,r,i++,"",o);else for(let r=t;r>n;r--)G(e,r,i++,"",o)},Z=function(e,t,n,o){let i=0;if(t<n)for(let r=t;r<=n;r++)G(e,r,i++,"",o);else for(let r=t;r>=n;r--)G(e,r,i++,"",o)};return n(I,M,H,F,x,C,_,A,T,S,P,N,z,j,D,R,U,W,Y,q,B,V,X,Z)}(e,e.$observer,e.$template,ce(e.$filters,Ht),ce(e.$partials,Mt),ce(e.$directives,Ut),ce(e.$transitions,Wt))}}update(e,t){{let n,o=this,{$vnode:i,$options:r}=o;o.$refs={},i?(h(r.beforeUpdate,o),o.fire({type:"beforeUpdate",ns:"hook"}),Ve(kt,e,t),n="afterUpdate"):(h(r.beforeMount,o),o.fire({type:"beforeMount",ns:"hook"}),Ve(kt,e,t),o.$el=e.node,n="afterMount"),o.$vnode=e,Yt.nextTick((function(){o.$vnode&&(h(r[n],o),o.fire({type:n,ns:"hook"}))}))}}checkProp(e,t){}destroy(){const e=this,{$parent:t,$options:n,$emitter:o,$observer:i}=e;{h(n.beforeDestroy,e),e.fire({type:"beforeDestroy",ns:"hook"});const{$vnode:o}=e;t&&t.$children&&C(t.$children,e),o&&(e.$vnode=undefined,function(e,t,n){if(n){const n=e.parent(t.node);n&&qe(e,n,t)}else Be(e,t)}(kt,o,!t))}i.destroy(),h(n.afterDestroy,e),e.fire({type:"afterDestroy",ns:"hook"}),o.off(),re(e)}nextTick(e){this.$observer.nextTask.append(e,this)}toggle(e){return this.$observer.toggle(e)}increase(e,t,n){return this.$observer.increase(e,t,n)}decrease(e,t,n){return this.$observer.decrease(e,t,n)}insert(e,t,n){return this.$observer.insert(e,t,n)}append(e,t){return this.$observer.append(e,t)}prepend(e,t){return this.$observer.prepend(e,t)}removeAt(e,t){return this.$observer.removeAt(e,t)}remove(e,t){return this.$observer.remove(e,t)}copy(e,t){return this.$observer.copy(e,t)}}function qt(e,t,n){s(n)?e[t](h(n,e)):u(n)&&e[t](n)}function Bt(e,t,n,o){const{$emitter:i}=e,r=i.toFilter(t,n),s={listener:r.listener,ns:r.ns,ctx:e};o&&(s.max=1),e.$emitter.on(r.type,s)}function Gt(e,t,n,o){f(t)?Bt(e,t,n,o):ie(t,(function(t,n){Bt(e,n,t,o)}))}function Vt(e,t,n){if(e&&e[t]){const o=e[t];if(s(o)){e[t]=[n];const i=function(n){const o=e[t],i=n["default"]||n;e[t]=i,m(o,(function(e){e(i)}))},r=o(i);r&&r.then(i)}else c(o)?k(o,n):n(o);return true}}function Xt(e,t,n){return e&&e[t]?e[t]:n?n(t):void 0}function Zt(e,t,n,o){f(t)?e[t]=o?o(n):n:ie(t,(function(t,n){e[n]=o?o(t):t}))}Yt.version="1.0.0-alpha.125",Yt.is=p,Yt.dom=kt,Yt.array=S,Yt.object=pe,Yt.string=B,Yt.logger=be,Yt.Event=v,Yt.Emitter=xe,Yt.directive({event:St,model:Lt,binding:Rt}),Yt.filter({hasSlot(e){return undefined!==this.get("$slot_"+e)}});export default Yt;
//# sourceMappingURL=yox.esm.min.js.map
